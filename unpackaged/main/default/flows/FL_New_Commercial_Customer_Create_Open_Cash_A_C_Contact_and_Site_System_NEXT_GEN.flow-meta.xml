<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>49.0</apiVersion>
    <assignments>
        <name>Ass_1st_Last_Name_and_Building_Number</name>
        <label>Ass 1st, Last Name and Building Number</label>
        <locationX>849</locationX>
        <locationY>189</locationY>
        <assignmentItems>
            <assignToReference>var_CustomerContactData.FirstName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>First_Name_Domestic</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_CustomerContactData.LastName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Last_Name_Domestic</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_Text_Street_Number</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Please_enter_the_building_number</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_AccountName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Account_Name</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_AccountData.BillingCity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>var_AccountBillingCity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Can_Operatives_send_out_Estimates_or_Not</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Ass_empty_string_to_City</name>
        <label>Ass empty string to City</label>
        <locationX>686</locationX>
        <locationY>439</locationY>
        <assignmentItems>
            <assignToReference>var_AccountBillingCity</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Ass_1st_Last_Name_and_Building_Number</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Send_Estimates_FALSEx</name>
        <label>Send Estimates=FALSE</label>
        <locationX>1184</locationX>
        <locationY>50</locationY>
        <assignmentItems>
            <assignToReference>var_Bool_Can_Operatives_Send_Estimates</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Account_Record_Type_ID</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Send_Estimates_TRUE</name>
        <label>Send Estimates=TRUE</label>
        <locationX>1188</locationX>
        <locationY>342</locationY>
        <assignmentItems>
            <assignToReference>var_Bool_Can_Operatives_Send_Estimates</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Account_Record_Type_ID</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>ChoiceClickNextCreateWO</name>
        <choiceText>Create Reactive Work Order</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Create Reactive Work Order</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceExitProcess</name>
        <choiceText>Exit</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Exit</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceNoOperativesCannotSendOutEstimates</name>
        <choiceText>No - Operatives Cannot send out Estimates</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>No - Operatives Cannot send out Estimates</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceYesOperativesCanSendOutEstimates</name>
        <choiceText>Yes - Operatives can send out Estimates</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Yes - Operatives can send out Estimates</stringValue>
        </value>
    </choices>
    <constants>
        <name>var_Const_CommercialRecordTypeName</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Commercial</stringValue>
        </value>
    </constants>
    <decisions>
        <name>Can_Operatives_send_out_Estimates_or_Not</name>
        <label>Can Operatives send out Estimates or Not?</label>
        <locationX>965</locationX>
        <locationY>197</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Operatives_can_send_out_Estimates</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceYesOperativesCanSendOutEstimates</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Estimates_FALSEx</targetReference>
            </connector>
            <label>Operatives can send out Estimates</label>
        </rules>
        <rules>
            <name>No_Operatives_CANNOT_send_out_Estimates</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceNoOperativesCannotSendOutEstimates</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Estimates_TRUE</targetReference>
            </connector>
            <label>No Operatives CANNOT send out Estimates</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_Null_City</name>
        <label>Check for Null City</label>
        <locationX>669</locationX>
        <locationY>189</locationY>
        <defaultConnector>
            <targetReference>Ass_1st_Last_Name_and_Building_Number</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>City_is_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_AccountBillingCity</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Ass_empty_string_to_City</targetReference>
            </connector>
            <label>City is null</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_null_Post_Code</name>
        <label>Check for null Post Code</label>
        <locationX>466</locationX>
        <locationY>197</locationY>
        <defaultConnector>
            <targetReference>Check_for_Null_City</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Post_Code_Empty</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>var_AccountData.BillingPostalCode</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_AccountData.BillingPostalCode</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenPost_Code_is_Empty</targetReference>
            </connector>
            <label>Post Code Empty</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Option_Selected</name>
        <label>Check Option Selected</label>
        <locationX>2451</locationX>
        <locationY>163</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Exit_Chosen</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceExitProcess</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>Exit Chosen</label>
        </rules>
        <rules>
            <name>Create_Reactive_WO</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceClickNextCreateWO</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Call_FL_Create_Work_Order_Step_1_using_Third_Picklist_System_NEXT_GEN</targetReference>
            </connector>
            <label>Create Reactive WO</label>
        </rules>
    </decisions>
    <description>ZS - added instructions for internal users</description>
    <formulas>
        <name>Formula_Full_Name</name>
        <dataType>String</dataType>
        <expression>{!var_CustomerContactData.FirstName} &amp; &quot; &quot; &amp; {!var_CustomerContactData.LastName}</expression>
    </formulas>
    <formulas>
        <description>Was {!var_Text_Street_Number} &amp; &quot; &quot; &amp; {!var_BillingStreet}</description>
        <name>Formula_Full_Street</name>
        <dataType>String</dataType>
        <expression>{!var_Text_Street_Number} &amp; &quot; &quot; &amp; {!var_FullStreetAddress}</expression>
    </formulas>
    <formulas>
        <name>FormulaCheckAccount_Name_Less100Chars</name>
        <dataType>Boolean</dataType>
        <expression>IF(LEN({!Account_Name})&gt;100,FALSE,TRUE)</expression>
    </formulas>
    <formulas>
        <name>FormulaCheckFirst_Name_CommercialLess40Chars</name>
        <dataType>Boolean</dataType>
        <expression>IF(LEN({!First_Name_Domestic})&gt;40,FALSE,TRUE)</expression>
    </formulas>
    <formulas>
        <name>FormulaCheckLast_Name_CommercialLess40Chars</name>
        <dataType>Boolean</dataType>
        <expression>IF(LEN({!Last_Name_Domestic})&gt;40,FALSE,TRUE)</expression>
    </formulas>
    <formulas>
        <name>FormulaConvertTxtLat_To_Number</name>
        <dataType>Number</dataType>
        <expression>VALUE({!var_Text_Lat})</expression>
        <scale>15</scale>
    </formulas>
    <formulas>
        <name>FormulaConvertTxtLong_To_Number</name>
        <dataType>Number</dataType>
        <expression>VALUE({!var_Text_Long})</expression>
        <scale>15</scale>
    </formulas>
    <formulas>
        <name>FormulaSiteNameCommercial</name>
        <dataType>String</dataType>
        <expression>LEFT({!Account_Name} &amp; &quot; - &quot; &amp; {!var_FullStreetAddress} &amp; &quot; - &quot; &amp; {!var_AccountData.BillingPostalCode},80)</expression>
    </formulas>
    <interviewLabel>FL New Commercial Customer-Create Open Cash A/C, Contact and Site (System) NEXT GEN {!$Flow.CurrentDateTime}</interviewLabel>
    <label>FL New Commercial Customer-Create Open Cash A/C, Contact and Site (System) NEXT GEN</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Account</name>
        <label>Account</label>
        <locationX>1625</locationX>
        <locationY>146</locationY>
        <assignRecordIdToReference>var_CreatedAccountID</assignRecordIdToReference>
        <connector>
            <targetReference>Contact</targetReference>
        </connector>
        <inputAssignments>
            <field>Account_Status__c</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Account_Type__c</field>
            <value>
                <stringValue>Cash</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingCity</field>
            <value>
                <elementReference>var_AccountData.BillingCity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingCountry</field>
            <value>
                <elementReference>var_AccountData.BillingCountry</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingLatitude</field>
            <value>
                <elementReference>FormulaConvertTxtLat_To_Number</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingLongitude</field>
            <value>
                <elementReference>FormulaConvertTxtLong_To_Number</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingPostalCode</field>
            <value>
                <elementReference>var_AccountData.BillingPostalCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingStreet</field>
            <value>
                <elementReference>Formula_Full_Street</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CurrencyIsoCode</field>
            <value>
                <stringValue>GBP</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Dont_Send_out_Estimates__c</field>
            <value>
                <elementReference>var_Bool_Can_Operatives_Send_Estimates</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email__c</field>
            <value>
                <elementReference>var_CustomerContactData.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>First_Name__c</field>
            <value>
                <elementReference>var_CustomerContactData.FirstName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Invoicing_Email_Address__c</field>
            <value>
                <elementReference>var_CustomerContactData.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Last_Name__c</field>
            <value>
                <elementReference>var_CustomerContactData.LastName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>var_AccountName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>var_CustomerContactData.Phone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>var_AccountDomesticRecordTypeID</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordCreates>
    <recordCreates>
        <name>Contact</name>
        <label>Contact</label>
        <locationX>1874</locationX>
        <locationY>189</locationY>
        <assignRecordIdToReference>var_CreatedContactID</assignRecordIdToReference>
        <connector>
            <targetReference>Site_Record_Type_ID</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>var_CreatedAccountID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>var_CustomerContactData.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>var_CustomerContactData.FirstName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Is_Primary_Contact__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>var_CustomerContactData.LastName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>var_CustomerContactData.Phone</elementReference>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordCreates>
    <recordCreates>
        <name>Site</name>
        <label>Site</label>
        <locationX>2174</locationX>
        <locationY>188</locationY>
        <assignRecordIdToReference>var_CreatedSiteID</assignRecordIdToReference>
        <connector>
            <targetReference>ScreenLinks_to_new_Account_contact_and_Site</targetReference>
        </connector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>var_CreatedAccountID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>FormulaSiteNameCommercial</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Primary_Site_Contact__c</field>
            <value>
                <elementReference>var_CreatedContactID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Primary_Site__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>var_CommercialSiteRecordTypeID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Site_City__c</field>
            <value>
                <elementReference>var_AccountData.BillingCity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Site_PostalCode__c</field>
            <value>
                <elementReference>var_AccountData.BillingPostalCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Site_Street__c</field>
            <value>
                <elementReference>Formula_Full_Street</elementReference>
            </value>
        </inputAssignments>
        <object>Site__c</object>
    </recordCreates>
    <recordLookups>
        <name>Account_Record_Type_ID</name>
        <label>Account Record Type ID</label>
        <locationX>1424</locationX>
        <locationY>189</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Account</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Const_CommercialRecordTypeName</elementReference>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Account</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>var_AccountDomesticRecordTypeID</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Site_Record_Type_ID</name>
        <label>Site Record Type ID</label>
        <locationX>2032</locationX>
        <locationY>135</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Site</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Const_CommercialRecordTypeName</elementReference>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Site__c</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>var_CommercialSiteRecordTypeID</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <name>ScreenLinks_to_new_Account_contact_and_Site</name>
        <label>Links to new: Account, contact and Site</label>
        <locationX>2313</locationX>
        <locationY>138</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Check_Option_Selected</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtTest3</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;Please see links below for the new records created:&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Account: &lt;/span&gt;&lt;a href=&quot;https://chumley.lightning.force.com/lightning/r/Account/{!var_CreatedAccountID}/view&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;font-size: 13px;&quot;&gt;&lt;b&gt;https://chumley.lightning.force.com/lightning/r/Account/{!var_CreatedAccountID}/view&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Contact:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://chumley.lightning.force.com/lightning/r/Contact/{!var_CreatedContactID}/view&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;font-size: 13px;&quot;&gt;&lt;b&gt;https://chumley.lightning.force.com/lightning/r/Contact/{!var_CreatedContactID}/view&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Site: &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://chumley.lightning.force.com/lightning/r/Site__c/{!var_CreatedSiteID}/view&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;font-size: 13px;&quot;&gt;&lt;b&gt;https://chumley.lightning.force.com/lightning/r/Site__c/{!var_CreatedSiteID}/view&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Please_select</name>
            <choiceReferences>ChoiceClickNextCreateWO</choiceReferences>
            <choiceReferences>ChoiceExitProcess</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Please select:</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenNew_Customer</name>
        <label>New Customer</label>
        <locationX>307</locationX>
        <locationY>195</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Check_for_null_Post_Code</targetReference>
        </connector>
        <fields>
            <name>CommericalDisplayTxt</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Create New Commercial Account with Site and Contact and then Work Order&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Account_Name</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>var_AccountName</elementReference>
            </defaultValue>
            <fieldText>Account Name:</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;!! Account Name cannot be longer than 100 characters !!&lt;/p&gt;</errorMessage>
                <formulaExpression>{!FormulaCheckAccount_Name_Less100Chars}</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>First_Name_Domestic</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>var_CustomerContactData.FirstName</elementReference>
            </defaultValue>
            <fieldText>First Name:</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;!! First or Last name cannot be longer than 40 characters !!&lt;/span&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>{!FormulaCheckFirst_Name_CommercialLess40Chars}</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Last_Name_Domestic</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>var_CustomerContactData.LastName</elementReference>
            </defaultValue>
            <fieldText>Last Name:</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;!! First or Last name cannot be longer than 40 characters !!&lt;/span&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>{!FormulaCheckLast_Name_CommercialLess40Chars}</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Domestic_Customer_Phone_Input</name>
            <extensionName>flowruntime:phone</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <elementReference>var_CustomerContactData.Phone</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>var_CustomerContactData.Phone</assignToReference>
                <name>value</name>
            </outputParameters>
        </fields>
        <fields>
            <name>Domestic_Customer_Email</name>
            <extensionName>flowruntime:email</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <elementReference>var_CustomerContactData.Email</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>var_CustomerContactData.Email</assignToReference>
                <name>value</name>
            </outputParameters>
        </fields>
        <fields>
            <name>RadbtnIs_this_an_Account_Operatives_are_can_send_out_Estimates_directly</name>
            <choiceReferences>ChoiceYesOperativesCanSendOutEstimates</choiceReferences>
            <choiceReferences>ChoiceNoOperativesCannotSendOutEstimates</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>ChoiceYesOperativesCanSendOutEstimates</defaultSelectedChoiceReference>
            <fieldText>Is this an Account where Operatives are allowed to send out Estimates directly?</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Please_enter_the_building_number</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>var_Text_Street_Number</elementReference>
            </defaultValue>
            <fieldText>Please enter the building number:</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>instructiontxt</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 20px;&quot;&gt;You must only place a postcode in the search bar &lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>AddressPickerTest</name>
            <extensionName>DV_Flow_AP:AddressValidation</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>fieldsRequired</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isRequired</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>locality</name>
                <value>
                    <elementReference>var_EmptyString</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>country</name>
                <value>
                    <elementReference>var_UnitedKingdom</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>title</name>
                <value>
                    <stringValue>TEST TITLE</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>var_AccountBillingCity</assignToReference>
                <name>locality</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>var_AccountData.BillingCountry</assignToReference>
                <name>country</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>var_Text_Lat</assignToReference>
                <name>latitude</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>var_Text_Long</assignToReference>
                <name>longitude</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>var_AccountData.BillingPostalCode</assignToReference>
                <name>postal_code</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>var_BillingStreet</assignToReference>
                <name>route</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>var_FullStreetAddress</assignToReference>
                <name>fullStreetAddress</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPost_Code_is_Empty</name>
        <label>Post Code is Empty</label>
        <locationX>440</locationX>
        <locationY>441</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DTxtPostCodeEmpty</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(253, 3, 3);&quot;&gt;A Post Code was not entered - you must at least have a post code to proceed.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(253, 3, 3);&quot;&gt;Please press &#39;Previous&#39; to enter again.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>TestScreen2</name>
        <label>TestScreen2</label>
        <locationX>1403</locationX>
        <locationY>347</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>displaytxtShowVars</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;var_Text_City: &lt;/span&gt;{!var_Text_City}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;var_Text_Country: &lt;/span&gt;{!var_Text_Country}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;var_Text_County: &lt;/span&gt;{!var_Text_County}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;var_Text_Lat: &lt;/span&gt;{!var_Text_Lat}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;var_Text_Long: &lt;/span&gt;{!var_Text_Long}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;var_Text_PCode: &lt;/span&gt;{!var_Text_PCode}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;var_Text_Province: &lt;/span&gt;{!var_Text_Province}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;var_Text_Street: &lt;/span&gt;{!var_Text_Street}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;var_Text_Street_Number: &lt;/span&gt;{!var_Text_Street_Number}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;FormulaConvertTxtLat_To_Number: &lt;/span&gt;{!FormulaConvertTxtLat_To_Number}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;FormulaConvertTxtLong_To_Number: &lt;/span&gt;{!FormulaConvertTxtLong_To_Number}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>50</locationX>
        <locationY>24</locationY>
        <connector>
            <targetReference>ScreenNew_Customer</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Call_FL_Create_Work_Order_Step_1_using_Third_Picklist_System_NEXT_GEN</name>
        <label>Call FL Create Work Order Step 1 - using Third Picklist (System) NEXT GEN</label>
        <locationX>2704</locationX>
        <locationY>160</locationY>
        <flowName>FL_Create_Work_Order_Step_1_using_Third_Picklist_System_NEXT_GEN</flowName>
        <inputAssignments>
            <name>var_SiteID</name>
            <value>
                <elementReference>var_CreatedSiteID</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>var_AccountBillingCity</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>var_AccountData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>var_AccountDomesticRecordTypeID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_AccountName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_BillingStreet</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>var_Bool_Can_Operatives_Send_Estimates</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CommercialSiteRecordTypeID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CreatedAccountID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CreatedContactID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CreatedSiteID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CustomerContactData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <name>var_EmptyString</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>var_FullStreetAddress</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>var_Text_City</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Text_Country</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Text_County</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Text_Lat</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Text_Long</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Text_PCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Text_Province</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Text_Street</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Text_Street_Number</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_UnitedKingdom</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>United Kingdom</stringValue>
        </value>
    </variables>
</Flow>
