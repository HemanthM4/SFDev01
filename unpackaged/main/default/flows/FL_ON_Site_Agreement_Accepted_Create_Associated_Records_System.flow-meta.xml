<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>49.0</apiVersion>
    <assignments>
        <name>Ass_DEFAULT_WT_ID</name>
        <label>Ass DEFAULT WT ID</label>
        <locationX>2927</locationX>
        <locationY>207</locationY>
        <assignmentItems>
            <assignToReference>var_WorkTypeID</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>var_Const_DEFAULT_OSA_WorkType</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Work_Order</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Ass_Formulas_to_vars_to_pass_to_sub_flow</name>
        <label>Ass Formulas to vars to pass to sub-flow</label>
        <locationX>3876</locationX>
        <locationY>436</locationY>
        <assignmentItems>
            <assignToReference>var_Full_Street_Address</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Formula_Full_Street</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_WO_EndTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Formula_WO_EndTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Ass_Found_WT_ID</name>
        <label>Ass Found WT ID</label>
        <locationX>2927</locationX>
        <locationY>51</locationY>
        <assignmentItems>
            <assignToReference>var_WorkTypeID</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>var_OSA_WorkTypeData.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Work_Order</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Ass_Test</name>
        <label>Ass Test</label>
        <locationX>2962</locationX>
        <locationY>347</locationY>
        <assignmentItems>
            <assignToReference>var_TEST_TotalHoursBetweenTimeSlots</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Formula_Hours_Between_TimeSlots</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <constants>
        <description>This is Production value: 08q4G000000XpT8QAK
Sandbox: 08q7E0000000fbNQAQ</description>
        <name>var_Const_DEFAULT_OSA_WorkType</name>
        <dataType>String</dataType>
        <value>
            <stringValue>08q4G000000XpT8QAK</stringValue>
        </value>
    </constants>
    <constants>
        <name>var_Const_DomesticRecordTypeName</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Domestic</stringValue>
        </value>
    </constants>
    <constants>
        <description>This is the prod value: 01t4G000008QR0cQAG
Sandbox: 01t7E00000893m7QAA</description>
        <name>var_Const_VanStockProdID</name>
        <dataType>String</dataType>
        <value>
            <stringValue>01t4G000008QR0cQAG</stringValue>
        </value>
    </constants>
    <decisions>
        <name>Do_we_already_have_a_WO_ID</name>
        <label>Do we already have a WO ID?</label>
        <locationX>798</locationX>
        <locationY>197</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Already_Got_WO_ID</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_ONSAData.Work_Order__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_ONSAData.Work_Order__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <label>Already Got WO ID</label>
        </rules>
        <rules>
            <name>No_WO_ID</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>var_ONSAData.Work_Order__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_ONSAData.Work_Order__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Domestic_Account_Record_Type_ID</targetReference>
            </connector>
            <label>No WO ID</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Work_Commencing_Now</name>
        <label>Is Work Commencing Now?</label>
        <locationX>3876</locationX>
        <locationY>176</locationY>
        <defaultConnector>
            <targetReference>Call_FL_ON_Site_Agreement_Accepted_Create_Associated_Records_STEP_2_System</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_commencing_now</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_ONSAData.Work_Commenced_Immediately__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_ONSAData.Raised_by_Service_Resource_ID__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Ass_Formulas_to_vars_to_pass_to_sub_flow</targetReference>
            </connector>
            <label>Yes - commencing now</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_OSA_WT_Found</name>
        <label>Was OSA WT Found?</label>
        <locationX>2702</locationX>
        <locationY>147</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>OSA_Work_Type_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_OSA_WorkTypeData</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Ass_Found_WT_ID</targetReference>
            </connector>
            <label>OSA Work Type Found</label>
        </rules>
        <rules>
            <name>OSA_Work_Type_NOT_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_OSA_WorkTypeData</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Ass_DEFAULT_WT_ID</targetReference>
            </connector>
            <label>OSA Work Type NOT Found</label>
        </rules>
    </decisions>
    <formulas>
        <name>Formula1st40CharsVar_ONSADataCustomer_first_name</name>
        <dataType>String</dataType>
        <expression>LEFT({!var_ONSAData.Customer_first_name__c},40)</expression>
    </formulas>
    <formulas>
        <name>Formula1st40CharsVar_ONSADataCustomer_Last_name</name>
        <dataType>String</dataType>
        <expression>LEFT({!var_ONSAData.Customer_last_name__c},40)</expression>
    </formulas>
    <formulas>
        <name>Formula_Convert_ONSAHoursOfWorkReq_To_Mins</name>
        <dataType>Number</dataType>
        <expression>{!var_ONSAData.Hours_of_work_required_1__c}*60</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <description>VALUE(SUBSTITUTE({!var_ONSAData.Discount__c}, &quot;%&quot;, &quot;&quot;))*100

then was:

VALUE(SUBSTITUTE({!var_ONSAData.Discount__c}, &quot;%&quot;, &quot;&quot;))</description>
        <name>Formula_ConvertTxtDiscountToNumber</name>
        <dataType>Number</dataType>
        <expression>IF({!var_ONSAData.Discount__c}=null,0,VALUE(SUBSTITUTE({!var_ONSAData.Discount__c}, &quot;%&quot;, &quot;&quot;)) )</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <description>(DATETIMEVALUE(TEXT({!var_ONSADATA.Preferred_date__c})&amp; &quot; &quot; &amp; RIGHT({!var_ONSADATA.Preferred_arrival_timeslot__c},5)&amp;&quot;:00&quot;)-0.041666667)</description>
        <name>Formula_EndTime_of_TimeSlot</name>
        <dataType>DateTime</dataType>
        <expression>IF(
VALUE(MID({!var_ONSAData.Preferred_arrival_timeslot__c},9,2))&lt;VALUE(LEFT({!var_ONSAData.Preferred_arrival_timeslot__c},2)),
(DATETIMEVALUE(TEXT({!var_ONSAData.Preferred_date__c}+1)&amp; &quot; &quot; &amp; RIGHT({!var_ONSAData.Preferred_arrival_timeslot__c},5)&amp;&quot;:00&quot;)-0.041666667),
(DATETIMEVALUE(TEXT({!var_ONSAData.Preferred_date__c})&amp; &quot; &quot; &amp; RIGHT({!var_ONSAData.Preferred_arrival_timeslot__c},5)&amp;&quot;:00&quot;)-0.041666667)
)</expression>
    </formulas>
    <formulas>
        <name>Formula_Full_Name</name>
        <dataType>String</dataType>
        <expression>{!var_ONSAData.Customer_first_name__c} &amp; &quot; &quot; &amp; {!var_ONSAData.Customer_last_name__c}</expression>
    </formulas>
    <formulas>
        <name>Formula_Full_Street</name>
        <dataType>String</dataType>
        <expression>{!var_ONSAData.Property_address_line_1__c} &amp; &quot; &quot; &amp; {!var_ONSAData.Property_address_line_2__c}</expression>
    </formulas>
    <formulas>
        <description>(DateTime_2__c - DateTime_1__c)*24</description>
        <name>Formula_Hours_Between_TimeSlots</name>
        <dataType>Number</dataType>
        <expression>({!Formula_EndTime_of_TimeSlot}-{!FormulaPreferredDateTimeSTART})*24</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>Formula_WO_EndTime</name>
        <dataType>DateTime</dataType>
        <expression>{!FormulaPreferredDateTimeSTART}+({!var_ONSAData.Total_hours_required__c}/24)+({!Formula_Hours_Between_TimeSlots}/24)</expression>
    </formulas>
    <formulas>
        <description>DATETIMEVALUE(TEXT(Preferred_date__c) &amp; &quot; &quot; &amp; LEFT(Preferred_arrival_timeslot__c,5)&amp;&quot;:00&quot; )-0.041666667</description>
        <name>FormulaPreferredDateTimeSTART</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE(TEXT({!var_ONSAData.Preferred_date__c})&amp; &quot; &quot; &amp; LEFT({!var_ONSAData.Preferred_arrival_timeslot__c},5)&amp;&quot;:00&quot;)-0.041666667</expression>
    </formulas>
    <formulas>
        <name>FormulaSiteName</name>
        <dataType>String</dataType>
        <expression>LEFT({!Formula_Full_Name} &amp; &quot; - &quot; &amp; {!Formula_Full_Street} &amp; &quot; - &quot; &amp; {!var_ONSAData.Property_address_postcode__c},80)</expression>
    </formulas>
    <interviewLabel>FL ON Site Agreement Accepted - Create Associated Records (System) {!$Flow.CurrentDateTime}</interviewLabel>
    <label>FL ON Site Agreement Accepted - Create Associated Records (System)</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>CCT</name>
        <label>CCT</label>
        <locationX>1853</locationX>
        <locationY>147</locationY>
        <assignRecordIdToReference>var_CreatedCCID</assignRecordIdToReference>
        <connector>
            <targetReference>Get_WO_Fixed_Price_Record_Type_ID</targetReference>
        </connector>
        <inputAssignments>
            <field>Call_Out_Fee__c</field>
            <value>
                <elementReference>var_ONSAData.Collection_fee__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CurrencyIsoCode</field>
            <value>
                <stringValue>GBP</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FP_Duration_Minutes__c</field>
            <value>
                <elementReference>Formula_Convert_ONSAHoursOfWorkReq_To_Mins</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FP_Selected_Day__c</field>
            <value>
                <stringValue>Weekday</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FP_Selected_Rate__c</field>
            <value>
                <stringValue>Day</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Hourly_Charge_R1__c</field>
            <value>
                <elementReference>var_ONSAData.Hourly_rate_first_trade__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Hourly_Charge_R2__c</field>
            <value>
                <elementReference>var_ONSAData.Hourly_rate_first_trade__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Hourly_Charge_R3__c</field>
            <value>
                <elementReference>var_ONSAData.Hourly_rate_first_trade__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Job__c</field>
            <value>
                <elementReference>var_CreatedJobID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Minimum_Units_of_Charge__c</field>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Record_Type__c</field>
            <value>
                <stringValue>F</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Info Incomplete</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Unit_of_Charge__c</field>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </inputAssignments>
        <object>Costs_and_Charges__c</object>
    </recordCreates>
    <recordCreates>
        <name>Contact</name>
        <label>Contact</label>
        <locationX>1265</locationX>
        <locationY>147</locationY>
        <assignRecordIdToReference>var_CreatedContactID</assignRecordIdToReference>
        <connector>
            <targetReference>Site_Domestic_Record_Type_ID</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>var_CreatedAccountID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>var_ONSAData.Customer_email__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>Formula1st40CharsVar_ONSADataCustomer_first_name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>Formula1st40CharsVar_ONSADataCustomer_Last_name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Secondary_Email__c</field>
            <value>
                <elementReference>var_ONSAData.Additional_email__c</elementReference>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordCreates>
    <recordCreates>
        <name>Create_Account</name>
        <label>Create Account</label>
        <locationX>1129</locationX>
        <locationY>196</locationY>
        <assignRecordIdToReference>var_CreatedAccountID</assignRecordIdToReference>
        <connector>
            <targetReference>Contact</targetReference>
        </connector>
        <inputAssignments>
            <field>Account_Status__c</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Account_Type__c</field>
            <value>
                <stringValue>Cash</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingCity</field>
            <value>
                <elementReference>var_ONSAData.Property_address_towncity__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingCountry</field>
            <value>
                <stringValue>United Kingdom</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingGeocodeAccuracy</field>
            <value>
                <stringValue>Address</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingPostalCode</field>
            <value>
                <elementReference>var_ONSAData.Property_address_postcode__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingState</field>
            <value>
                <elementReference>var_ONSAData.Property_address_county__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingStreet</field>
            <value>
                <elementReference>Formula_Full_Street</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CurrencyIsoCode</field>
            <value>
                <stringValue>GBP</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email__c</field>
            <value>
                <elementReference>var_ONSAData.Customer_email__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>First_Name__c</field>
            <value>
                <elementReference>var_ONSAData.Customer_first_name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Invoicing_Email_Address__c</field>
            <value>
                <elementReference>var_ONSAData.Customer_email__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Last_Name__c</field>
            <value>
                <elementReference>var_ONSAData.Customer_last_name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>Formula_Full_Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>var_AccountDomesticRecordTypeID</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordCreates>
    <recordCreates>
        <name>Job</name>
        <label>Job</label>
        <locationX>1701</locationX>
        <locationY>201</locationY>
        <assignRecordIdToReference>var_CreatedJobID</assignRecordIdToReference>
        <connector>
            <targetReference>CCT</targetReference>
        </connector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>var_CreatedAccountID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CurrencyIsoCode</field>
            <value>
                <stringValue>GBP</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Job_Raised_by__c</field>
            <value>
                <elementReference>var_CreatedContactID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Site__c</field>
            <value>
                <elementReference>var_CreatedSiteID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>New</stringValue>
            </value>
        </inputAssignments>
        <object>Job__c</object>
    </recordCreates>
    <recordCreates>
        <name>Product_Required</name>
        <label>Product Required</label>
        <locationX>3741</locationX>
        <locationY>100</locationY>
        <assignRecordIdToReference>var_CreatedProdRequired</assignRecordIdToReference>
        <connector>
            <targetReference>Is_Work_Commencing_Now</targetReference>
        </connector>
        <inputAssignments>
            <field>ParentRecordId</field>
            <value>
                <elementReference>var_CreatedWOID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product2Id</field>
            <value>
                <elementReference>var_Const_VanStockProdID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product_Cost__c</field>
            <value>
                <elementReference>var_ONSAData.Material_charge__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>QuantityRequired</field>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>QuantityUnitOfMeasure</field>
            <value>
                <stringValue>Each</stringValue>
            </value>
        </inputAssignments>
        <object>ProductRequired</object>
    </recordCreates>
    <recordCreates>
        <name>Site</name>
        <label>Site</label>
        <locationX>1549</locationX>
        <locationY>151</locationY>
        <assignRecordIdToReference>var_CreatedSiteID</assignRecordIdToReference>
        <connector>
            <targetReference>Job</targetReference>
        </connector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>var_CreatedAccountID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>FormulaSiteName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Primary_Site_Contact__c</field>
            <value>
                <elementReference>var_CreatedContactID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Primary_Site__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>var_DomesticSiteRecordTypeID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Site_City__c</field>
            <value>
                <elementReference>var_ONSAData.Property_address_towncity__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Site_PostalCode__c</field>
            <value>
                <elementReference>var_ONSAData.Property_address_postcode__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Site_Street__c</field>
            <value>
                <elementReference>Formula_Full_Street</elementReference>
            </value>
        </inputAssignments>
        <object>Site__c</object>
    </recordCreates>
    <recordCreates>
        <name>Work_Order</name>
        <label>Work Order</label>
        <locationX>3400</locationX>
        <locationY>105</locationY>
        <assignRecordIdToReference>var_CreatedWOID</assignRecordIdToReference>
        <connector>
            <targetReference>Update_ONSA_with_WOID</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>var_CreatedAccountID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Category__c</field>
            <value>
                <stringValue>Non Project</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>City</field>
            <value>
                <elementReference>var_ONSAData.Property_address_towncity__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ContactId</field>
            <value>
                <elementReference>var_CreatedContactID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Costs_and_Charges__c</field>
            <value>
                <elementReference>var_CreatedCCID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Country</field>
            <value>
                <stringValue>United Kingdom</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Duration</field>
            <value>
                <elementReference>var_ONSAData.Total_hours_required__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>DurationType</field>
            <value>
                <stringValue>Hours</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>EndDate</field>
            <value>
                <elementReference>Formula_WO_EndTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GeocodeAccuracy</field>
            <value>
                <stringValue>Address</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Job__c</field>
            <value>
                <elementReference>var_CreatedJobID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>On_site_agreement__c</field>
            <value>
                <elementReference>var_ONSAData.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PostalCode</field>
            <value>
                <elementReference>var_ONSAData.Property_address_postcode__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>var_FixedPriceWO_RecordTypeID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Site__c</field>
            <value>
                <elementReference>var_CreatedSiteID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StartDate</field>
            <value>
                <elementReference>var_ONSAData.Preferred_Date_Time__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>State</field>
            <value>
                <elementReference>var_ONSAData.Property_address_county__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Accepted/Live</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Street</field>
            <value>
                <elementReference>Formula_Full_Street</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WorkTypeId</field>
            <value>
                <elementReference>var_WorkTypeID</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordCreates>
    <recordLookups>
        <name>Domestic_Account_Record_Type_ID</name>
        <label>Domestic Account Record Type ID</label>
        <locationX>969</locationX>
        <locationY>147</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_Account</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Const_DomesticRecordTypeName</elementReference>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Account</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>var_AccountDomesticRecordTypeID</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_OSA_WT</name>
        <label>Get OSA WT</label>
        <locationX>2574</locationX>
        <locationY>147</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Was_OSA_WT_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_OSA_WT_RecordTypeID</elementReference>
            </value>
        </filters>
        <filters>
            <field>Trades__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_ONSAData.Work_type__c</elementReference>
            </value>
        </filters>
        <object>WorkType</object>
        <outputReference>var_OSA_WorkTypeData</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_OSA_WT_RecordType_ID</name>
        <label>Get OSA WT RecordType ID</label>
        <locationX>2173</locationX>
        <locationY>164</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_OSA_WT</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>OSA</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>WorkType</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>var_OSA_WT_RecordTypeID</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_WO_Fixed_Price_Record_Type_ID</name>
        <label>Get WO Fixed Price Record Type ID</label>
        <locationX>2013</locationX>
        <locationY>216</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_OSA_WT_RecordType_ID</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Fixed Price</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>WorkOrder</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>var_FixedPriceWO_RecordTypeID</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>ONSA_Data</name>
        <label>ONSA Data</label>
        <locationX>567</locationX>
        <locationY>180</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Do_we_already_have_a_WO_ID</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_ONSAID</elementReference>
            </value>
        </filters>
        <object>On_site_agreement__c</object>
        <outputReference>var_ONSAData</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Customer_email__c</queriedFields>
        <queriedFields>Customer_first_name__c</queriedFields>
        <queriedFields>Customer_last_name__c</queriedFields>
        <queriedFields>Additional_email__c</queriedFields>
        <queriedFields>Property_address_line_1__c</queriedFields>
        <queriedFields>Property_address_line_2__c</queriedFields>
        <queriedFields>Property_address_towncity__c</queriedFields>
        <queriedFields>Property_address_county__c</queriedFields>
        <queriedFields>Property_address_postcode__c</queriedFields>
        <queriedFields>Work_Order__c</queriedFields>
        <queriedFields>Hourly_rate_first_trade__c</queriedFields>
        <queriedFields>Hours_of_work_required_1__c</queriedFields>
        <queriedFields>Collection_fee__c</queriedFields>
        <queriedFields>Discount__c</queriedFields>
        <queriedFields>Discount_offered__c</queriedFields>
        <queriedFields>Material_charge__c</queriedFields>
        <queriedFields>Total_hours_required__c</queriedFields>
        <queriedFields>Preferred_Date_Time__c</queriedFields>
        <queriedFields>Preferred_arrival_timeslot__c</queriedFields>
        <queriedFields>Preferred_date__c</queriedFields>
        <queriedFields>Work_type__c</queriedFields>
        <queriedFields>Raised_by_Service_Resource_ID__c</queriedFields>
        <queriedFields>Work_Commenced_Immediately__c</queriedFields>
        <queriedFields>Pending_email_sent__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Site_Domestic_Record_Type_ID</name>
        <label>Site Domestic Record Type ID</label>
        <locationX>1409</locationX>
        <locationY>204</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Site</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Const_DomesticRecordTypeName</elementReference>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Site__c</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>var_DomesticSiteRecordTypeID</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordUpdates>
        <name>Update_ONSA_with_WOID</name>
        <label>Update ONSA with WOID</label>
        <locationX>3535</locationX>
        <locationY>39</locationY>
        <connector>
            <targetReference>Product_Required</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_ONSAData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Work_Order__c</field>
            <value>
                <elementReference>var_CreatedWOID</elementReference>
            </value>
        </inputAssignments>
        <object>On_site_agreement__c</object>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <start>
        <locationX>96</locationX>
        <locationY>217</locationY>
        <connector>
            <targetReference>ONSA_Data</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Call_FL_ON_Site_Agreement_Accepted_Create_Associated_Records_STEP_2_System</name>
        <label>Call FL ON Site Agreement Accepted - Create Associated Records STEP 2 (System)</label>
        <locationX>4164</locationX>
        <locationY>67</locationY>
        <flowName>FL_ON_Site_Agreement_Accepted_Create_Associated_Records_STEP_2_System</flowName>
        <inputAssignments>
            <name>var_ConvertTxtDiscountToNumber</name>
            <value>
                <elementReference>Formula_ConvertTxtDiscountToNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_CreatedCCID</name>
            <value>
                <elementReference>var_CreatedCCID</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Create_SA</name>
        <label>Create SA</label>
        <locationX>4051</locationX>
        <locationY>386</locationY>
        <connector>
            <targetReference>Call_FL_ON_Site_Agreement_Accepted_Create_Associated_Records_STEP_2_System</targetReference>
        </connector>
        <flowName>FL_ON_Site_Agreement_Accepted_Create_Associated_Records_Create_Service_Appt_Syst</flowName>
        <inputAssignments>
            <name>var_CreatedContactID</name>
            <value>
                <elementReference>var_CreatedContactID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_CreatedWOID</name>
            <value>
                <elementReference>var_CreatedWOID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Full_Street_Address</name>
            <value>
                <elementReference>var_Full_Street_Address</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_ONSAData</name>
            <value>
                <elementReference>var_ONSAData</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_WO_EndTime</name>
            <value>
                <elementReference>var_WO_EndTime</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>var_AccountDomesticRecordTypeID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CreatedAccountID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CreatedCCID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>var_CreatedContactID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>var_CreatedJobID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CreatedProdRequired</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CreatedSiteID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CreatedWOID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>var_DomesticSiteRecordTypeID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_FixedPriceWO_RecordTypeID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Full_Street_Address</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>var_ONSAData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>On_site_agreement__c</objectType>
    </variables>
    <variables>
        <name>var_ONSAID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_OSA_WorkTypeData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkType</objectType>
    </variables>
    <variables>
        <name>var_OSA_WT_RecordTypeID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_TEST_TotalHoursBetweenTimeSlots</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>var_WO_EndTime</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>var_WorkTypeID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
