<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>CINOtfound</name>
        <label>CINOtfound</label>
        <locationX>2492</locationX>
        <locationY>1603</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <elementReference>CInotfoundmailtext</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailAddresses</name>
            <value>
                <stringValue>paperwork@aspect.co.uk</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderAddress</name>
            <value>
                <stringValue>noreply@aspect.co.uk</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <stringValue>CI not found</stringValue>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>Lock_Job_record</name>
        <label>Lock Job record</label>
        <locationX>791</locationX>
        <locationY>1886</locationY>
        <actionName>submit</actionName>
        <actionType>submit</actionType>
        <connector>
            <targetReference>ScreenNew_FP_Work_Order_Created_Pend_or_Reject</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>processDefinitionNameOrId</name>
            <value>
                <stringValue>Estimate_Email_sent_to_Cust_lock_Job</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>objectId</name>
            <value>
                <elementReference>var_CreatedJobID</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>skipEntryCriteria</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>comment</name>
            <value>
                <stringValue>Estimate sent to Customer for approval by the Engineer - Job record should be locked.</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>submitterId</name>
            <value>
                <stringValue>0054G00000B2qh7QAB</stringValue>
            </value>
        </inputParameters>
    </actionCalls>
    <assignments>
        <name>Add_1_to_Pend_or_Reject_Search_for_CI_var</name>
        <label>Add 1 to Pend or Reject Search for CI var</label>
        <locationX>338</locationX>
        <locationY>1445</locationY>
        <assignmentItems>
            <assignToReference>var_CounterPendRejectSearch_CI</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Deposit_Inv_Found_Pend_or_Reject</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_1_to_Pend_or_Reject_Search_for_CI_var_0</name>
        <label>Add 1 to Pend or Reject Search for CI var</label>
        <locationX>1450</locationX>
        <locationY>1693</locationY>
        <assignmentItems>
            <assignToReference>var_CounterPendRejectSearch_CI</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Deposit_Inv_Found_Credit_Customer</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_1_to_Pend_or_Reject_Search_for_CI_var_Cash_Cust</name>
        <label>Add 1 to Pend or Reject Search for CI var (Cash Cust)</label>
        <locationX>2450</locationX>
        <locationY>560</locationY>
        <assignmentItems>
            <assignToReference>var_CounterPendRejectSearch_CI</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Deposit_Inv_Found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_1_to_var_AltCC_Counter</name>
        <label>Add 1 to var_AltCC_Counter</label>
        <locationX>6484</locationX>
        <locationY>1391</locationY>
        <assignmentItems>
            <assignToReference>var_AltCC_Counter</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_if_Alternative_CC_Successful_or_Not</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_1_to_var_check_payment_status</name>
        <label>Add 1 to var check payment status</label>
        <locationX>4993</locationX>
        <locationY>1689</locationY>
        <assignmentItems>
            <assignToReference>var_CheckPaymentStatusNumber</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Payment_Stage_Commence_Immediate_or_Not_Immediate</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_20_seconds_to_var_Credit_Cust</name>
        <label>Add 20 seconds to var (Credit Cust)</label>
        <locationX>1182</locationX>
        <locationY>1065</locationY>
        <assignmentItems>
            <assignToReference>var_NOW_Add_20_Seconds_CustInvoice</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Formula_NOW_Add_20_Seconds_CustInvoice</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ScreenWait_for_Customer_Invoice_creation_Credit_Cust</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Ass_Now_Add_15_Secs_to_Var</name>
        <label>Ass Now Add 15 Secs to Var</label>
        <locationX>4036</locationX>
        <locationY>1555</locationY>
        <assignmentItems>
            <assignToReference>var_NOW_Add_15_Seconds_Payment</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Formula_NOW_Add_15_Seconds</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ScreenPayment_Record_Created</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Ass_Now_Add_20_Secs_to_Cust_Inv_Var</name>
        <label>Ass Now Add 20 Secs to Cust Inv Var</label>
        <locationX>1640</locationX>
        <locationY>619</locationY>
        <assignmentItems>
            <assignToReference>var_NOW_Add_20_Seconds_CustInvoice</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Formula_NOW_Add_20_Seconds_CustInvoice_CashCust</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ScreenWait_for_Customer_Invoice_creation</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>ChoiceAlternativeCC_NOTSuccessful</name>
        <choiceText>Payment Unsuccessful</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Payment Unsuccessful</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceAlternativeCC_Successful</name>
        <choiceText>Payment taken successfully</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Payment taken successfully</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceAlternativeCreditCard</name>
        <choiceText>Alternative Credit Card</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Alternative Credit Card</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceBACs</name>
        <choiceText>BACs</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>BACs</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceCash</name>
        <choiceText>Cash</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Cash</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceCheque</name>
        <choiceText>Cheque</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Cheque</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceCustomerIsPresent</name>
        <choiceText>Yes</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Yes</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceCustomerNotPresent</name>
        <choiceText>No</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>No</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceNotPayViaDeviceSendEmail</name>
        <choiceText>Customer will not pay via my device - send customer payment email</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Customer will not pay via my device - send customer payment email</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceNOTRecdCashorChq</name>
        <choiceText>No</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>No</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceNoUseOTHER_Method_Of_Payment</name>
        <choiceText>Use other method of payment</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Use other method of payment</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoicePayViaDevice</name>
        <choiceText>Customer will pay via my device</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Customer will pay via my device</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceYesPayWithThisCard</name>
        <choiceText>Use this card</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Use this card</stringValue>
        </value>
    </choices>
    <choices>
        <name>ChoiceYesRecdCashorChq</name>
        <choiceText>Yes</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Yes</stringValue>
        </value>
    </choices>
    <decisions>
        <name>Alt_CC_counter_is_4_and_Alt_payment_method_selected</name>
        <label>Alt CC counter is 4 and Alt payment method selected</label>
        <locationX>6326</locationX>
        <locationY>1765</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Alt_payment_method_selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChkbxAlternative_payment_method</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenPlease_select_alternative_method_of_payment</targetReference>
            </connector>
            <label>Alt payment method selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Authorisation_found</name>
        <label>Check Authorisation found</label>
        <locationX>4281</locationX>
        <locationY>678</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Found_Auth</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_AuthorisationData</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenValid_Auth_record_found</targetReference>
            </connector>
            <label>Found Auth</label>
        </rules>
        <rules>
            <name>Auth_is_Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_AuthorisationData</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenNo_Auth_Found</targetReference>
            </connector>
            <label>Auth is Null</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Deposit_Inv_Found</name>
        <label>Check Deposit Inv Found</label>
        <locationX>2560</locationX>
        <locationY>563</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Deposit_Inv_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Deposit_Customer_Inv_Data</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Job_with_Deposit_Cust_Inv_ID</targetReference>
            </connector>
            <label>Deposit Inv Found</label>
        </rules>
        <rules>
            <name>Deposit_Inv_NOT_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Deposit_Customer_Inv_Data</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenCash_Cust_CustInvNotFound</targetReference>
            </connector>
            <label>Deposit Inv NOT Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Deposit_Inv_Found_Credit_Customer</name>
        <label>Check Deposit Inv Found (Credit Customer)</label>
        <locationX>1441</locationX>
        <locationY>1859</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Deposit_Inv_Found_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Deposit_Customer_Inv_Data</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Cust_Inv_to_Outstanding_Credit_Customer</targetReference>
            </connector>
            <label>Deposit Inv Found</label>
        </rules>
        <rules>
            <name>Deposit_Inv_NOT_Found_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Deposit_Customer_Inv_Data</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenCredit_Cust_CustInvNotFound</targetReference>
            </connector>
            <label>Deposit Inv NOT Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Deposit_Inv_Found_Pend_or_Reject</name>
        <label>Check Deposit Inv Found (Pend or Reject)</label>
        <locationX>378</locationX>
        <locationY>1642</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Deposit_Inv_Found_Pend_or_Reject_New</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Deposit_Customer_Inv_Data</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <label>Deposit Inv Found (Pend or Reject)</label>
        </rules>
        <rules>
            <name>Deposit_Inv_NOT_Found_Pend_or_Reject_New</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Deposit_Customer_Inv_Data</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Pend_Or_Reject_CustInvNotFound</targetReference>
            </connector>
            <label>Deposit Inv NOT Found (Pend or Reject)</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_Exit_Payment_Loop_Cash_Cust</name>
        <label>Check for Exit Payment Loop (Cash Cust)</label>
        <locationX>2482</locationX>
        <locationY>1167</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Exit_Payment_Loop_selected_Cash_Cust</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChkbxExit_payment_loop_CashCust</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenCustomer_Invoice_not_found</targetReference>
            </connector>
            <label>Exit Payment Loop selected (Cash Cust)</label>
        </rules>
        <rules>
            <name>Exit_Payment_Loop_NOT_selected_Cash_Cust</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ChkbxExit_payment_loop_CashCust</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Invoice_Data</targetReference>
            </connector>
            <label>Exit Payment Loop NOT selected (Cash Cust)</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_Exit_Payment_Loop_Credit_Cust</name>
        <label>Check for Exit Payment Loop (Credit Cust)</label>
        <locationX>1120</locationX>
        <locationY>1731</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Exit_Payment_Loop_selected_Credit_Cust</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChkbxExit_payment_loop_CreditCust</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenCredit_Customer_so_dont_need_Deposit_Cust_Inv_Not_Found</targetReference>
            </connector>
            <label>Exit Payment Loop selected (Credit Cust)</label>
        </rules>
        <rules>
            <name>Exit_Payment_Loop_NOT_selected_Credit_Cust</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ChkbxExit_payment_loop_CreditCust</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Invoice_Data_Credit_Cust</targetReference>
            </connector>
            <label>Exit Payment Loop NOT selected (Credit Cust)</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_Exit_Payment_Loop_Pend_or_Reject</name>
        <label>Check for Exit Payment Loop (Pend or Reject)</label>
        <locationX>358</locationX>
        <locationY>1815</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Exit_Payment_Loop_selected_Pend_or_Reject</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChkbxExit_payment_loop</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenDeposit_Invoice_Still_Not_Found_after_Several_Attempts</targetReference>
            </connector>
            <label>Exit Payment Loop selected (Pend or Reject)</label>
        </rules>
        <rules>
            <name>Exit_Payment_Loop_NOT_selected_Pend_or_Reject</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ChkbxExit_payment_loop</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Invoice_Data_Pend_or_Reject</targetReference>
            </connector>
            <label>Exit Payment Loop NOT selected (Pend or Reject)</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Alternative_CC_Successful_or_Not</name>
        <label>Check if Alternative CC Successful or Not</label>
        <locationX>6438</locationX>
        <locationY>1651</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Alternative_CC_Collected_from_customer</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_PaymentData.asp04__Payment_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Collected from customer</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_WO_Status_Alternative_CC</targetReference>
            </connector>
            <label>Alternative CC Collected from customer</label>
        </rules>
        <rules>
            <name>Alternative_CC_Failed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_PaymentData.asp04__Payment_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Failed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenAlternative_Credit_Card_UNSuccessful</targetReference>
            </connector>
            <label>Alternative CC Failed</label>
        </rules>
        <rules>
            <name>Alternative_CC_Not_Failed_and_Not_Collected_from_Cust_and_less_4</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_PaymentData.asp04__Payment_Stage__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Collected from customer</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_PaymentData.asp04__Payment_Stage__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Failed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_AltCC_Counter</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <numberValue>4.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenNot_Failed_and_Not_Collected_from_Cust</targetReference>
            </connector>
            <label>Alternative CC Not Failed and Not Collected from Cust and less 4</label>
        </rules>
        <rules>
            <name>var_AltCC_Counter_is_4_or_more</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_AltCC_Counter</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>4.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_WO_Status_Alternative_CC_Counter_is_4</targetReference>
            </connector>
            <label>var_AltCC_Counter is 4 or more</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Immediate_Future_Date_Pending_Rejected</name>
        <label>Check if Immediate-Future Date-Pending -Rejected</label>
        <locationX>539</locationX>
        <locationY>487</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Immediate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Bool_Is_Work_Commencing_Now</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_WO_Data</targetReference>
            </connector>
            <label>Immediate</label>
        </rules>
        <rules>
            <name>Future_Date</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Bool_Work_Commencing_Future_Date</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_WO_Data</targetReference>
            </connector>
            <label>Future Date</label>
        </rules>
        <rules>
            <name>Pending</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Bool_Work_Is_Pending</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_WO_Data_Pend_or_Reject</targetReference>
            </connector>
            <label>Pending</label>
        </rules>
        <rules>
            <name>Rejected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Bool_Work_Is_Rejected</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_WO_Data_Pend_or_Reject</targetReference>
            </connector>
            <label>Rejected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Pay_via_Device_or_not</name>
        <label>Check Pay via Device or not</label>
        <locationX>3271</locationX>
        <locationY>664</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Pay_via_device</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoicePayViaDevice</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Authorisation_record</targetReference>
            </connector>
            <label>Pay via device</label>
        </rules>
        <rules>
            <name>Will_not_pay_via_device</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceNotPayViaDeviceSendEmail</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Cust_Inv_so_Outstanding_email_sent_Cust_wont_pay_via_device</targetReference>
            </connector>
            <label>Will not pay via device</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_payment_method_chosen</name>
        <label>Check payment method chosen</label>
        <locationX>4280</locationX>
        <locationY>1029</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Use_existing_Auth</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceYesPayWithThisCard</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenFirst_4_digits_Security_Verification</targetReference>
            </connector>
            <label>Use existing Auth</label>
        </rules>
        <rules>
            <name>Use_Other_Method</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceNoUseOTHER_Method_Of_Payment</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenPlease_select_alternative_method_of_payment</targetReference>
            </connector>
            <label>Use Other Method</label>
        </rules>
        <rules>
            <name>Nothing_selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceYesPayWithThisCard</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ChoiceNoUseOTHER_Method_Of_Payment</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenPayment_Option_Not_Made</targetReference>
            </connector>
            <label>Nothing selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Payment_Method_Selected</name>
        <label>Check Payment Method Selected</label>
        <locationX>5231</locationX>
        <locationY>908</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Alternative_Credit_Card</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceAlternativeCreditCard</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_work_commencing_immediately_Alternative_Credit_Card</targetReference>
            </connector>
            <label>Alternative Credit Card</label>
        </rules>
        <rules>
            <name>Cheque</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceCheque</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenPaymentMethodSelectedCashOrCheque</targetReference>
            </connector>
            <label>Cheque</label>
        </rules>
        <rules>
            <name>BACs_chosen</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceBACs</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_WO_Status_BACs</targetReference>
            </connector>
            <label>BACs chosen</label>
        </rules>
        <rules>
            <name>Cash</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceCash</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenPaymentMethodSelectedCashOrCheque_0</targetReference>
            </connector>
            <label>Cash</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Payment_Stage_Commence_Immediate_or_Not_Immediate</name>
        <label>Check Payment Stage (Commence Immediate or Not Immediate)</label>
        <locationX>5120</locationX>
        <locationY>1803</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Stage_is_Collected_from_customer</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_PaymentData.asp04__Payment_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Collected from customer</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_WO_Status_Collected_Money_from_Customer</targetReference>
            </connector>
            <label>Stage is Collected from customer</label>
        </rules>
        <rules>
            <name>Stage_is_Failed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_PaymentData.asp04__Payment_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Failed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenPayment_Stage_is_Failed</targetReference>
            </connector>
            <label>Stage is Failed</label>
        </rules>
        <rules>
            <name>Stage_is_Not_Collected_from_customer_and_not_Failed</name>
            <conditionLogic>1 AND 2 AND (3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>var_PaymentData.asp04__Payment_Stage__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Collected from customer</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_PaymentData.asp04__Payment_Stage__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Failed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Exit_Payment_please_check_with_Office_payment_was_received</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Exit_Payment_please_check_with_Office_payment_was_received</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenCurrent_Payment_Stage</targetReference>
            </connector>
            <label>Stage is Not Collected from customer and not Failed</label>
        </rules>
        <rules>
            <name>Exit_payment_process</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Exit_Payment_please_check_with_Office_payment_was_received</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_WO_Status_Exit_Payment_Process</targetReference>
            </connector>
            <label>Exit payment process</label>
        </rules>
    </decisions>
    <decisions>
        <name>Did_Operative_confirm_theyd_recd_Chq_or_Cash</name>
        <label>Did Operative confirm theyd recd Chq or Cash?</label>
        <locationX>5711</locationX>
        <locationY>78</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Operative_Did_confirm_recd_Chq_or_Cash</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceYesRecdCashorChq</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_WO_Status_Cash_or_Chq_Confirmed_Recd</targetReference>
            </connector>
            <label>Operative Did confirm recd Chq or Cash</label>
        </rules>
        <rules>
            <name>Not_Recd_Cash_or_Chq</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceNOTRecdCashorChq</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_WO_Status_Cash_or_Chq_NOT_Confirmed_Recd</targetReference>
            </connector>
            <label>Not Recd Cash or Chq</label>
        </rules>
    </decisions>
    <decisions>
        <name>Did_Operative_confirm_theyd_recd_Chq_or_Cash_0</name>
        <label>Did Operative confirm theyd recd Chq or Cash?</label>
        <locationX>5890</locationX>
        <locationY>607</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Operative_Did_confirm_recd_Chq_or_Cash_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceYesRecdCashorChq</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_WO_Status_Cash_or_Chq_Confirmed_Recd_0</targetReference>
            </connector>
            <label>Operative Did confirm recd Chq or Cash</label>
        </rules>
        <rules>
            <name>Not_Recd_Cash_or_Chq_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ChoiceNOTRecdCashorChq</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_WO_Status_Cash_or_Chq_NOT_Confirmed_Recd_0</targetReference>
            </connector>
            <label>Not Recd Cash or Chq</label>
        </rules>
    </decisions>
    <decisions>
        <name>Do_the_first_4_digits_match</name>
        <label>Do the first 4 digits match?</label>
        <locationX>3913</locationX>
        <locationY>1124</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>First_four_digits_match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Please_enter_the_first_4_digits_of_your_card_number</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Formula_Auth_AccountRef_FIRST4Digits</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_work_commencing_immediately</targetReference>
            </connector>
            <label>First four digits match</label>
        </rules>
        <rules>
            <name>First_four_digits_DONT_match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Please_enter_the_first_4_digits_of_your_card_number</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Formula_Auth_AccountRef_FIRST4Digits</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ScreenDigits_DONT_match</targetReference>
            </connector>
            <label>First four digits DONT match</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_15_Seconds_passed</name>
        <label>Has 15 Seconds passed?</label>
        <locationX>4286</locationX>
        <locationY>1600</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>X15_Seconds_passed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_NOW_Add_15_Seconds_Payment</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Formula_NOW_Payment</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Payment_Status_0</targetReference>
            </connector>
            <label>15 Seconds passed</label>
        </rules>
        <rules>
            <name>X15_Seconds_NOT_passed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_NOW_Add_15_Seconds_Payment</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Formula_NOW_Payment</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Screen15_Seconds_not_passed</targetReference>
            </connector>
            <label>15 Seconds NOT passed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_20_Seconds_passed_Cust_Invoice</name>
        <label>Has 20 Seconds passed? (Cust Invoice)</label>
        <locationX>1993</locationX>
        <locationY>626</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>X20_Seconds_passed_Cust_Invoice</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_NOW_Add_20_Seconds_CustInvoice</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Formula_NOW_CustInvoice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>TestScreen_for_Job_Id</targetReference>
            </connector>
            <label>20 Seconds passed Cust Invoice</label>
        </rules>
        <rules>
            <name>X20_Seconds_NOT_passed_Cust_Invoice</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_NOW_Add_20_Seconds_CustInvoice</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Formula_NOW_CustInvoice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Screen20_Seconds_not_passed_Cust_Invoice_Screen</targetReference>
            </connector>
            <label>20 Seconds NOT passed Cust Invoice</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_20_Seconds_passed_Cust_Invoice_Credit_Cust</name>
        <label>Has 20 Seconds passed? (Cust Invoice - Credit Cust)</label>
        <locationX>1241</locationX>
        <locationY>1415</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>X20_Seconds_passed_Cust_Invoice_Credit_Cust</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_NOW_Add_20_Seconds_CustInvoice</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Formula_NOW_CustInvoice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Invoice_Data_Credit_Cust</targetReference>
            </connector>
            <label>20 Seconds passed Cust Invoice (Credit Cust)</label>
        </rules>
        <rules>
            <name>X20_Seconds_NOT_passed_Cust_Invoice_Credit_Cust</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_NOW_Add_20_Seconds_CustInvoice</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Formula_NOW_CustInvoice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Screen20_Seconds_not_passed_Cust_Invoice_Screen_Credit_Cust</targetReference>
            </connector>
            <label>20 Seconds NOT passed Cust Invoice (Credit Cust)</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_20_Seconds_passed_Cust_Invoice_Pend_or_Reject</name>
        <label>Has 20 Seconds passed? (Cust Invoice - Pend or Reject)</label>
        <locationX>251</locationX>
        <locationY>1380</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>X20_Seconds_passed_Cust_Invoice_Pend_or_Reject</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_NOW_Add_20_Seconds_CustInvoice</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Formula_NOW_CustInvoice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Invoice_Data_Pend_or_Reject</targetReference>
            </connector>
            <label>20 Seconds passed Cust Invoice (Pend or Reject)</label>
        </rules>
        <rules>
            <name>X20_Seconds_NOT_passed_Cust_Invoice_Pend_or_Reject</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_NOW_Add_20_Seconds_CustInvoice</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Formula_NOW_CustInvoice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Screen20_Seconds_not_passed_Cust_Invoice_Screen_Pend_or_Reject</targetReference>
            </connector>
            <label>20 Seconds NOT passed Cust Invoice (Pend or Reject)</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Cash_or_Credit</name>
        <label>Is Cash or Credit?</label>
        <locationX>1289</locationX>
        <locationY>702</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Credit_Customer</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_AccountData.Account_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Credit</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Invoice_Data_Credit_Customer</targetReference>
            </connector>
            <label>Credit Customer</label>
        </rules>
        <rules>
            <name>Cash_Customer</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_AccountData.Account_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cash</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Ass_Now_Add_20_Secs_to_Cust_Inv_Var</targetReference>
            </connector>
            <label>Cash Customer</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_work_commencing_immediately</name>
        <label>Is work commencing immediately?</label>
        <locationX>3777</locationX>
        <locationY>1329</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Commence_Immediately</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Bool_Is_Work_Commencing_Now</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Payment_Record_for_CC_Commence_Immediately</targetReference>
            </connector>
            <label>Commence Immediately</label>
        </rules>
        <rules>
            <name>Not_Commencing_Immediately</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>var_Bool_Is_Work_Commencing_Now</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_Bool_Is_Work_Commencing_Now</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Payment_Record_for_CC</targetReference>
            </connector>
            <label>Not Commencing Immediately</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_work_commencing_immediately_Alternative_Credit_Card</name>
        <label>Is work commencing immediately? (Alternative Credit Card)</label>
        <locationX>5639</locationX>
        <locationY>1012</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Commence_Immediately_Alternative_Credit_Card</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Bool_Is_Work_Commencing_Now</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Payment_Record_for_Alternative_CC_Commence_Immediately</targetReference>
            </connector>
            <label>Commence Immediately (Alternative Credit Card)</label>
        </rules>
        <rules>
            <name>Not_Commencing_Immediately_Alternative_Credit_Card</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>var_Bool_Is_Work_Commencing_Now</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_Bool_Is_Work_Commencing_Now</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Payment_Record_for_Alternative_CC</targetReference>
            </connector>
            <label>Not Commencing Immediately (Alternative Credit Card)</label>
        </rules>
    </decisions>
    <description>Adding the Approval process to lock the Job record for Pending payment</description>
    <dynamicChoiceSets>
        <name>var_PicklistChoice_CI_PaymentMethod</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>Payment_Method__c</picklistField>
        <picklistObject>Customer_Invoice__c</picklistObject>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <name>Formula_Auth_AccountRef_FIRST4Digits</name>
        <dataType>String</dataType>
        <expression>LEFT({!var_AuthorisationData.asp04__Account_Reference__c},4)</expression>
    </formulas>
    <formulas>
        <name>Formula_Auth_AccountRef_Last4Digits</name>
        <dataType>String</dataType>
        <expression>RIGHT({!var_AuthorisationData.asp04__Account_Reference__c},4)</expression>
    </formulas>
    <formulas>
        <description>{!$Flow.CurrentDateTime}+0.000174 - this is 15 seconds
{!$Flow.CurrentDateTime}+0.00005787 - this is 5 seconds</description>
        <name>Formula_NOW_Add_15_Seconds</name>
        <dataType>DateTime</dataType>
        <expression>{!$Flow.CurrentDateTime}+0.000174</expression>
    </formulas>
    <formulas>
        <name>Formula_NOW_Add_20_Seconds_CustInvoice</name>
        <dataType>DateTime</dataType>
        <expression>{!$Flow.CurrentDateTime}+0.000232</expression>
    </formulas>
    <formulas>
        <name>Formula_NOW_Add_20_Seconds_CustInvoice_CashCust</name>
        <dataType>DateTime</dataType>
        <expression>{!$Flow.CurrentDateTime}+0.000232</expression>
    </formulas>
    <formulas>
        <name>Formula_NOW_CustInvoice</name>
        <dataType>DateTime</dataType>
        <expression>NOW()</expression>
    </formulas>
    <formulas>
        <name>Formula_NOW_Payment</name>
        <dataType>DateTime</dataType>
        <expression>NOW()</expression>
    </formulas>
    <formulas>
        <name>Formula_ServResourceConfirmedGotChqCash</name>
        <dataType>String</dataType>
        <expression>{!var_ServiceResourceData.FirstName__c} &amp; &quot; &quot; &amp; {!var_ServiceResourceData.LastName__c} &amp; &quot; Confirmed they received a Chq or Cash.&quot;</expression>
    </formulas>
    <formulas>
        <name>Formula_ServResourceNOTConfirmedGotChqCash</name>
        <dataType>String</dataType>
        <expression>{!var_ServiceResourceData.FirstName__c} &amp; &quot; &quot; &amp; {!var_ServiceResourceData.LastName__c} &amp; &quot; confirmed they did NOT receive a Chq or Cash.&quot;</expression>
    </formulas>
    <formulas>
        <name>FormulaTEST</name>
        <dataType>String</dataType>
        <expression>{!var_PaymentID}</expression>
    </formulas>
    <interviewLabel>FL - FSL (mobile) Take Payment for Deposit On Site Agreement {!$Flow.CurrentDateTime}</interviewLabel>
    <label>FL - FSL (mobile) Take Payment for Deposit On Site Agreement</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>FieldServiceMobile</processType>
    <recordCreates>
        <name>Create_Payment_Record_for_Alternative_CC</name>
        <label>Create Payment Record for Alternative CC</label>
        <locationX>5832</locationX>
        <locationY>1175</locationY>
        <assignRecordIdToReference>var_PaymentID</assignRecordIdToReference>
        <connector>
            <targetReference>Screen_so_that_eCommerce_URL_can_be_displayed_retrieved</targetReference>
        </connector>
        <inputAssignments>
            <field>Account_Email__c</field>
            <value>
                <elementReference>var_OriginalWorkOrderData.Contact_Email_who_Raised_Work_Order__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Customer_Invoice__c</field>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Customer__c</field>
            <value>
                <elementReference>var_AccountData.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Work_Order__c</field>
            <value>
                <elementReference>var_CreatedWorkOrderID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Account_Name__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Account_Reference__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Amount__c</field>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Charge_Gross__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Authorisation__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_City__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_Country__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_PostalCode__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_Street__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Card_Type__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Company_Name__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__First_Name__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Last_Name__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Payment_Route_Options__c</field>
            <value>
                <stringValue>Card</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Payment_Route_Selected__c</field>
            <value>
                <stringValue>Card</stringValue>
            </value>
        </inputAssignments>
        <object>asp04__Payment__c</object>
    </recordCreates>
    <recordCreates>
        <name>Create_Payment_Record_for_Alternative_CC_Commence_Immediately</name>
        <label>Create Payment Record for Alternative CC (Commence Immediately)</label>
        <locationX>5648</locationX>
        <locationY>1230</locationY>
        <assignRecordIdToReference>var_PaymentID</assignRecordIdToReference>
        <connector>
            <targetReference>Screen_so_that_eCommerce_URL_can_be_displayed_retrieved</targetReference>
        </connector>
        <inputAssignments>
            <field>Account_Email__c</field>
            <value>
                <elementReference>var_OriginalWorkOrderData.Contact_Email_who_Raised_Work_Order__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Customer_Invoice__c</field>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Customer__c</field>
            <value>
                <elementReference>var_AccountData.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Is_Work_Commencing_Immediately__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Work_Order__c</field>
            <value>
                <elementReference>var_CreatedWorkOrderID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Account_Name__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Account_Reference__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Amount__c</field>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Charge_Gross__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Authorisation__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_City__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_Country__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_PostalCode__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_Street__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Card_Type__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Company_Name__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__First_Name__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Last_Name__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Payment_Route_Options__c</field>
            <value>
                <stringValue>Card</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Payment_Route_Selected__c</field>
            <value>
                <stringValue>Card</stringValue>
            </value>
        </inputAssignments>
        <object>asp04__Payment__c</object>
    </recordCreates>
    <recordCreates>
        <name>Create_Payment_Record_for_CC</name>
        <label>Create Payment Record for CC</label>
        <locationX>4027</locationX>
        <locationY>1428</locationY>
        <assignRecordIdToReference>var_PaymentID</assignRecordIdToReference>
        <connector>
            <targetReference>Ass_Now_Add_15_Secs_to_Var</targetReference>
        </connector>
        <inputAssignments>
            <field>Account_Email__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Email__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Customer_Invoice__c</field>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Customer__c</field>
            <value>
                <elementReference>var_AuthorisationData.Customer__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Work_Order__c</field>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Account_Name__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Account_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Account_Reference__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Account_Reference__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Amount__c</field>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Charge_Gross__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Authorisation__c</field>
            <value>
                <elementReference>var_AuthorisationData.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_City__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Billing_Address_City__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_Country__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Billing_Address_Country__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_PostalCode__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Billing_Address_PostalCode__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_Street__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Billing_Address_Street__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Card_Type__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Card_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Company_Name__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Company_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__First_Name__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__First_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Last_Name__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Last_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Payment_Route_Options__c</field>
            <value>
                <stringValue>Card</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Payment_Route_Selected__c</field>
            <value>
                <stringValue>Card</stringValue>
            </value>
        </inputAssignments>
        <object>asp04__Payment__c</object>
    </recordCreates>
    <recordCreates>
        <name>Create_Payment_Record_for_CC_Commence_Immediately</name>
        <label>Create Payment Record for CC (Commence Immediately)</label>
        <locationX>3763</locationX>
        <locationY>1549</locationY>
        <assignRecordIdToReference>var_PaymentID</assignRecordIdToReference>
        <connector>
            <targetReference>Ass_Now_Add_15_Secs_to_Var</targetReference>
        </connector>
        <inputAssignments>
            <field>Account_Email__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Email__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Customer_Invoice__c</field>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Customer__c</field>
            <value>
                <elementReference>var_AuthorisationData.Customer__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Is_Work_Commencing_Immediately__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Work_Order__c</field>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Account_Name__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Account_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Account_Reference__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Account_Reference__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Amount__c</field>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Charge_Gross__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Authorisation__c</field>
            <value>
                <elementReference>var_AuthorisationData.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_City__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Billing_Address_City__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_Country__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Billing_Address_Country__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_PostalCode__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Billing_Address_PostalCode__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Billing_Address_Street__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Billing_Address_Street__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Card_Type__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Card_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Company_Name__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Company_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__First_Name__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__First_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Last_Name__c</field>
            <value>
                <elementReference>var_AuthorisationData.asp04__Last_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Payment_Route_Options__c</field>
            <value>
                <stringValue>Card</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asp04__Payment_Route_Selected__c</field>
            <value>
                <stringValue>Card</stringValue>
            </value>
        </inputAssignments>
        <object>asp04__Payment__c</object>
    </recordCreates>
    <recordLookups>
        <name>Get_Account_Data</name>
        <label>Get Account Data</label>
        <locationX>1146</locationX>
        <locationY>696</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Cash_or_Credit</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.AccountId</elementReference>
            </value>
        </filters>
        <object>Account</object>
        <outputReference>var_AccountData</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Account_Type__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Authorisation_record</name>
        <label>Get Authorisation record</label>
        <locationX>4020</locationX>
        <locationY>673</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Authorisation_found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Customer__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_AccountData.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>asp04__Expiry_Date__c</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>asp04__Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>In Force</stringValue>
            </value>
        </filters>
        <object>asp04__Authorisation__c</object>
        <outputReference>var_AuthorisationData</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>asp04__First_Name__c</queriedFields>
        <queriedFields>asp04__Last_Name__c</queriedFields>
        <queriedFields>asp04__Card_Type__c</queriedFields>
        <queriedFields>asp04__Payment_Route_Options__c</queriedFields>
        <queriedFields>asp04__Payment_Route_Selected__c</queriedFields>
        <queriedFields>asp04__Account_Name__c</queriedFields>
        <queriedFields>asp04__Account_Reference__c</queriedFields>
        <queriedFields>asp04__Billing_Address_City__c</queriedFields>
        <queriedFields>asp04__Billing_Address_Country__c</queriedFields>
        <queriedFields>asp04__Billing_Address_PostalCode__c</queriedFields>
        <queriedFields>asp04__Billing_Address_State__c</queriedFields>
        <queriedFields>asp04__Billing_Address_Street__c</queriedFields>
        <queriedFields>Customer__c</queriedFields>
        <queriedFields>asp04__Email__c</queriedFields>
        <queriedFields>asp04__Company_Name__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_eCommerceURL</name>
        <label>Get eCommerceURL</label>
        <locationX>6181</locationX>
        <locationY>1337</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>ScreenDisplay_eCommerce_URL_to_User</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_PaymentID</elementReference>
            </value>
        </filters>
        <filters>
            <field>Customer_Invoice_Record_Type_Name__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </filters>
        <object>asp04__Payment__c</object>
        <outputReference>var_PaymentData</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>asp04__eCommerce_URL__c</queriedFields>
        <queriedFields>CreatedDate</queriedFields>
        <queriedFields>Work_Order__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Invoice_Data</name>
        <label>Get Invoice Data</label>
        <locationX>2316</locationX>
        <locationY>654</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Show_data</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Job__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Job__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Deposit</stringValue>
            </value>
        </filters>
        <filters>
            <field>CreatedDate</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </filters>
        <object>Customer_Invoice__c</object>
        <outputReference>var_Deposit_Customer_Inv_Data</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Account__c</queriedFields>
        <queriedFields>Charge_Net__c</queriedFields>
        <queriedFields>Charge_Gross__c</queriedFields>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
    </recordLookups>
    <recordLookups>
        <name>Get_Invoice_Data_Credit_Cust</name>
        <label>Get Invoice Data (Credit Cust)</label>
        <locationX>1255</locationX>
        <locationY>1675</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Add_1_to_Pend_or_Reject_Search_for_CI_var_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Job__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Job__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Deposit</stringValue>
            </value>
        </filters>
        <filters>
            <field>CreatedDate</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </filters>
        <object>Customer_Invoice__c</object>
        <outputReference>var_Deposit_Customer_Inv_Data</outputReference>
        <queriedFields>Id</queriedFields>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
    </recordLookups>
    <recordLookups>
        <name>Get_Invoice_Data_Credit_Customer</name>
        <label>Get Invoice Data (Credit Customer)</label>
        <locationX>1182</locationX>
        <locationY>889</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Add_20_seconds_to_var_Credit_Cust</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Job__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Job__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Deposit</stringValue>
            </value>
        </filters>
        <object>Customer_Invoice__c</object>
        <outputReference>var_Deposit_Customer_Inv_Data</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Account__c</queriedFields>
        <queriedFields>Charge_Net__c</queriedFields>
        <queriedFields>Charge_Gross__c</queriedFields>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
    </recordLookups>
    <recordLookups>
        <name>Get_Invoice_Data_Pend_or_Reject</name>
        <label>Get Invoice Data (Pend or Reject)</label>
        <locationX>371</locationX>
        <locationY>1482</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Add_1_to_Pend_or_Reject_Search_for_CI_var</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Job__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Job__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Deposit</stringValue>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </filters>
        <object>Customer_Invoice__c</object>
        <outputReference>var_Deposit_Customer_Inv_Data</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Payment_Stage</name>
        <label>Get Payment Stage</label>
        <locationX>6480</locationX>
        <locationY>1261</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Add_1_to_var_AltCC_Counter</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_PaymentID</elementReference>
            </value>
        </filters>
        <filters>
            <field>Customer_Invoice_Record_Type_Name__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </filters>
        <object>asp04__Payment__c</object>
        <outputReference>var_PaymentData</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>asp04__eCommerce_URL__c</queriedFields>
        <queriedFields>CreatedDate</queriedFields>
        <queriedFields>Work_Order__c</queriedFields>
        <queriedFields>asp04__Payment_Stage__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>bit concerned about cached values here</description>
        <name>Get_Payment_Status_0</name>
        <label>Get Payment Status</label>
        <locationX>4896</locationX>
        <locationY>1643</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Add_1_to_var_check_payment_status</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_PaymentID</elementReference>
            </value>
        </filters>
        <filters>
            <field>Customer_Invoice_Record_Type_Name__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </filters>
        <object>asp04__Payment__c</object>
        <outputReference>var_PaymentData</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>asp04__Payment_Stage__c</queriedFields>
        <queriedFields>asp04__Payment_Stage_Description__c</queriedFields>
        <queriedFields>asp04__Amount__c</queriedFields>
        <queriedFields>Name</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_WO_Data</name>
        <label>Get WO Data</label>
        <locationX>952</locationX>
        <locationY>572</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Account_Data</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderID</elementReference>
            </value>
        </filters>
        <object>WorkOrder</object>
        <outputReference>var_CreatedWorkOrderData</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Is_Franchisee_Work__c</queriedFields>
        <queriedFields>Customer_Name__c</queriedFields>
        <queriedFields>Job__c</queriedFields>
        <queriedFields>AccountId</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_WO_Data_Pend_or_Reject</name>
        <label>Get WO Data (Pend or Reject)</label>
        <locationX>795</locationX>
        <locationY>1398</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Update_Job_with_Deposit_Cust_Inv_ID_Pending</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderID</elementReference>
            </value>
        </filters>
        <object>WorkOrder</object>
        <outputReference>var_CreatedWorkOrderData</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Is_Franchisee_Work__c</queriedFields>
        <queriedFields>Customer_Name__c</queriedFields>
        <queriedFields>Job__c</queriedFields>
        <queriedFields>AccountId</queriedFields>
        <queriedFields>WorkOrderNumber</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Update_Cust_Inv_Payment_Method</name>
        <label>Update Cust Inv Payment Method</label>
        <locationX>5082</locationX>
        <locationY>2131</locationY>
        <connector>
            <targetReference>ScreenPaymentSuccessfullyTaken</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Method__c</field>
            <value>
                <stringValue>Credit Card</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Paid</stringValue>
            </value>
        </inputAssignments>
        <object>Customer_Invoice__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cust_Inv_so_Outstanding_email_sent_Cust_wont_pay_via_device</name>
        <label>Update Cust Inv so Outstanding email sent (Cust wont pay via device)</label>
        <locationX>3269</locationX>
        <locationY>862</locationY>
        <connector>
            <targetReference>Update_Job_to_send_payment_link_to_Cust_via_email</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Ready_to_Send__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <object>Customer_Invoice__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cust_Inv_to_Outstanding_BACs</name>
        <label>Update Cust Inv to Outstanding (BACs)</label>
        <locationX>5304</locationX>
        <locationY>333</locationY>
        <connector>
            <targetReference>ScreenPaymentMethodSelectedBACs</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Method__c</field>
            <value>
                <stringValue>BACs</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <object>Customer_Invoice__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cust_Inv_to_Outstanding_Cash_or_Chq</name>
        <label>Update Cust Inv to Outstanding (Cash or Chq)</label>
        <locationX>6323</locationX>
        <locationY>283</locationY>
        <connector>
            <targetReference>ScreenPaymentMethodSelectedCashOrChequeFinish</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Method__c</field>
            <value>
                <stringValue>Cheque</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <object>Customer_Invoice__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cust_Inv_to_Outstanding_Cash_or_Chq_0</name>
        <label>Update Cust Inv to Outstanding (Cash or Chq)</label>
        <locationX>6502</locationX>
        <locationY>812</locationY>
        <connector>
            <targetReference>ScreenPaymentMethodSelectedCashOrChequeFinish_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Method__c</field>
            <value>
                <stringValue>Cash</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <object>Customer_Invoice__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cust_Inv_to_Outstanding_Credit_Customer</name>
        <label>Update Cust Inv to Outstanding (Credit Customer)</label>
        <locationX>1494</locationX>
        <locationY>2147</locationY>
        <connector>
            <targetReference>ScreenCredit_Customer_so_dont_need_Deposit</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <object>Customer_Invoice__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cust_Inv_to_Outstanding_Exit_Payment_Process</name>
        <label>Update Cust Inv to Outstanding (Exit Payment Process)</label>
        <locationX>5389</locationX>
        <locationY>1936</locationY>
        <connector>
            <targetReference>ScreenPayment_Process_Exited</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Method__c</field>
            <value>
                <stringValue>Credit Card</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <object>Customer_Invoice__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cust_Inv_to_Paid_Alternative_CC</name>
        <label>Update Cust Inv to Paid (Alternative CC)</label>
        <locationX>7028</locationX>
        <locationY>1171</locationY>
        <connector>
            <targetReference>ScreenAlternative_Credit_Card_Successful</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Method__c</field>
            <value>
                <stringValue>Alternative Credit Card</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Paid</stringValue>
            </value>
        </inputAssignments>
        <object>Customer_Invoice__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cust_Inv_to_Paid_Alternative_CC_Counter_is_4</name>
        <label>Update Cust Inv to Paid (Alternative CC) Counter is 4</label>
        <locationX>6893</locationX>
        <locationY>1875</locationY>
        <connector>
            <targetReference>var_AltCC_Counter_is_4</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Method__c</field>
            <value>
                <stringValue>Alternative Credit Card</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <object>Customer_Invoice__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Job_to_send_payment_link_to_Cust_via_email</name>
        <label>Update Job to send payment link to Cust via email</label>
        <locationX>3266</locationX>
        <locationY>1049</locationY>
        <connector>
            <targetReference>ScreenCustWontPayOnDevice</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Job__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Send_payment_link_to_customer_via_email__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Job__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Job_with_Deposit_Cust_Inv_ID</name>
        <label>Update Job with Deposit Cust Inv ID</label>
        <locationX>2765</locationX>
        <locationY>645</locationY>
        <connector>
            <targetReference>ScreenWill_Customer_pay_via_device</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Job__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Deposit_Invoice__c</field>
            <value>
                <elementReference>var_Deposit_Customer_Inv_Data.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Job__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Job_with_Deposit_Cust_Inv_ID_Pending</name>
        <label>Update Job with Deposit Cust Inv ID and send payment link to cust via email (Pending- Email only)</label>
        <locationX>797</locationX>
        <locationY>1677</locationY>
        <connector>
            <targetReference>Lock_Job_record</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Job__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Send_payment_link_to_customer_via_email__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Job__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_WO_Status_Alternative_CC</name>
        <label>Update WO Status (Alternative CC)</label>
        <locationX>6764</locationX>
        <locationY>1205</locationY>
        <connector>
            <targetReference>Update_Cust_Inv_to_Paid_Alternative_CC</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Status__c</field>
            <value>
                <stringValue>Paid</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Was_Customer_present_to_take_Payment__c</field>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_WO_Status_Alternative_CC_Counter_is_4</name>
        <label>Update WO Status (Alternative CC) Counter is 4</label>
        <locationX>6721</locationX>
        <locationY>1764</locationY>
        <connector>
            <targetReference>Update_Cust_Inv_to_Paid_Alternative_CC_Counter_is_4</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Was_Customer_present_to_take_Payment__c</field>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_WO_Status_BACs</name>
        <label>Update WO Status (BACs)</label>
        <locationX>5238</locationX>
        <locationY>693</locationY>
        <connector>
            <targetReference>Create_SA_and_SR_BACs</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Was_Customer_present_to_take_Payment__c</field>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_WO_Status_Cash_or_Chq_Confirmed_Recd</name>
        <label>Update WO Status (Cash or Chq) Confirmed Recd</label>
        <locationX>5995</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>Create_SA_and_SR_Cash_or_Chq</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Notes_from_Operative__c</field>
            <value>
                <elementReference>Formula_ServResourceConfirmedGotChqCash</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Payment_Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Was_Customer_present_to_take_Payment__c</field>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_WO_Status_Cash_or_Chq_Confirmed_Recd_0</name>
        <label>Update WO Status (Cash or Chq) Confirmed Recd</label>
        <locationX>6174</locationX>
        <locationY>579</locationY>
        <connector>
            <targetReference>Create_SA_and_SR_Cash_or_Chq_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Notes_from_Operative__c</field>
            <value>
                <elementReference>Formula_ServResourceConfirmedGotChqCash</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Payment_Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Was_Customer_present_to_take_Payment__c</field>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_WO_Status_Cash_or_Chq_NOT_Confirmed_Recd</name>
        <label>Update WO Status (Cash or Chq) NOT Confirmed Recd</label>
        <locationX>5858</locationX>
        <locationY>255</locationY>
        <connector>
            <targetReference>Create_SA_and_SR_Cash_or_Chq</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Notes_from_Operative__c</field>
            <value>
                <elementReference>Formula_ServResourceNOTConfirmedGotChqCash</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Payment_Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Was_Customer_present_to_take_Payment__c</field>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_WO_Status_Cash_or_Chq_NOT_Confirmed_Recd_0</name>
        <label>Update WO Status (Cash or Chq) NOT Confirmed Recd</label>
        <locationX>6037</locationX>
        <locationY>784</locationY>
        <connector>
            <targetReference>Create_SA_and_SR_Cash_or_Chq_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Notes_from_Operative__c</field>
            <value>
                <elementReference>Formula_ServResourceNOTConfirmedGotChqCash</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Payment_Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Was_Customer_present_to_take_Payment__c</field>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_WO_Status_Collected_Money_from_Customer</name>
        <label>Update WO Status (Collected Money from Customer)</label>
        <locationX>5025</locationX>
        <locationY>2008</locationY>
        <connector>
            <targetReference>Update_Cust_Inv_Payment_Method</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Status__c</field>
            <value>
                <stringValue>Paid</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Was_Customer_present_to_take_Payment__c</field>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_WO_Status_Exit_Payment_Process</name>
        <label>Update WO Status (Exit Payment Process)</label>
        <locationX>5401</locationX>
        <locationY>1657</locationY>
        <connector>
            <targetReference>Update_Cust_Inv_to_Outstanding_Exit_Payment_Process</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>var_CreatedWorkOrderData.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payment_Status__c</field>
            <value>
                <stringValue>Outstanding</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Was_Customer_present_to_take_Payment__c</field>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <screens>
        <name>Pend_Or_Reject_CustInvNotFound</name>
        <label>Pend_Or_Reject_CustInvNotFound</label>
        <locationX>267</locationX>
        <locationY>1608</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Check_for_Exit_Payment_Loop_Pend_or_Reject</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtPend_Or_Reject_CustInvNotFound</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;We cannot find a customer invoice for this work order. Please press Next to search again or toggle &#39;Exit payment loop&#39; to exit this process if not successful after a few attempts.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ChkbxExit_payment_loop</name>
            <dataType>Boolean</dataType>
            <defaultValue>
                <booleanValue>false</booleanValue>
            </defaultValue>
            <fieldText>Exit payment loop</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen15_Seconds_not_passed</name>
        <label>15 Seconds not passed</label>
        <locationX>4292</locationX>
        <locationY>1803</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Has_15_Seconds_passed</targetReference>
        </connector>
        <fields>
            <name>DisplayTxt30SecondsNotPassed</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;15 seconds have not passed yet.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please press Next when 15 seconds have passed.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please wait until: {!var_NOW_Add_15_Seconds_Payment}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen20_Seconds_not_passed_Cust_Invoice_Screen</name>
        <label>20 Seconds not passed Cust Invoice Screen</label>
        <locationX>2002</locationX>
        <locationY>1065</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Has_20_Seconds_passed_Cust_Invoice</targetReference>
        </connector>
        <fields>
            <name>DisplayTxt_10_Seconds_not_passed_Cust_Invoice</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;20 seconds have not passed yet.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please press next when 20 seconds have passed.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please wait until: {!var_NOW_Add_20_Seconds_CustInvoice}&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen20_Seconds_not_passed_Cust_Invoice_Screen_Credit_Cust</name>
        <label>20 Seconds not passed Cust Invoice Screen (Credit Cust)</label>
        <locationX>989</locationX>
        <locationY>1256</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Has_20_Seconds_passed_Cust_Invoice_Credit_Cust</targetReference>
        </connector>
        <fields>
            <name>DisplayTxt_20_Seconds_not_passed_Cust_Invoice_CreditCust</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;20 seconds have not passed yet.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please press next when 20 seconds have passed.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please wait until: {!var_NOW_Add_20_Seconds_CustInvoice}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen20_Seconds_not_passed_Cust_Invoice_Screen_Pend_or_Reject</name>
        <label>20 Seconds not passed Cust Invoice Screen (Pend or Reject)</label>
        <locationX>13</locationX>
        <locationY>1418</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Has_20_Seconds_passed_Cust_Invoice_Pend_or_Reject</targetReference>
        </connector>
        <fields>
            <name>DisplayTxt_15_Seconds_not_passed_Cust_Invoice_PendReject</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;20 seconds have not passed yet.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please press next when 20 seconds have passed.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please wait until: {!var_NOW_Add_20_Seconds_CustInvoice}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen_so_that_eCommerce_URL_can_be_displayed_retrieved</name>
        <label>Screen so that eCommerce URL can be displayed/retrieved</label>
        <locationX>6049</locationX>
        <locationY>1282</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_eCommerceURL</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtClickNextforURL</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Please click Next to display the URL to click on for the Customer to enter new card details.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenAlternative_Credit_Card_Successful</name>
        <label>Alternative Credit Card Successful</label>
        <locationX>7197</locationX>
        <locationY>1241</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtAlternativeCreditCardSuccessful</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;Deposit payment has been successfully collected from the customer.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenAlternative_Credit_Card_UNSuccessful</name>
        <label>Alternative Credit Card UNSuccessful</label>
        <locationX>5760</locationX>
        <locationY>1452</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>ScreenPlease_select_alternative_method_of_payment</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtAlternativeCreditCardUNSuccessful</name>
            <fieldText>&lt;p&gt;&lt;b&gt;The payment has failed.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Please press Next to select an alternative payment method.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenCash_Cust_CustInvNotFound</name>
        <label>Cash_Cust_CustInvNotFound</label>
        <locationX>2570</locationX>
        <locationY>743</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Check_for_Exit_Payment_Loop_Cash_Cust</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtCashCust_CustInvNotFound</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;We cannot find a customer invoice for this work order. Please press Next to search again or toggle &#39;Exit payment loop&#39; to exit this process if not successful after a few attempts.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ChkbxExit_payment_loop_CashCust</name>
            <dataType>Boolean</dataType>
            <defaultValue>
                <booleanValue>false</booleanValue>
            </defaultValue>
            <fieldText>Exit payment loop</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenCredit_Cust_CustInvNotFound</name>
        <label>Credit_Cust_CustInvNotFound</label>
        <locationX>1242</locationX>
        <locationY>2012</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Check_for_Exit_Payment_Loop_Credit_Cust</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtCreditCust_CustInvNotFound</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;We cannot find a customer invoice for this work order. Please press Next to search again or toggle &#39;Exit payment loop&#39; to exit this process if not successful after a few attempts.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ChkbxExit_payment_loop_CreditCust</name>
            <dataType>Boolean</dataType>
            <defaultValue>
                <booleanValue>false</booleanValue>
            </defaultValue>
            <fieldText>Exit payment loop</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenCredit_Customer_so_dont_need_Deposit</name>
        <label>Credit Customer so dont need Deposit</label>
        <locationX>1493</locationX>
        <locationY>2364</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtCreditCustomerDontNeedDeposit</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;A new fixed price work order has been created. &lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;This account type is {!var_AccountData.Account_Type__c}.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Payment is not required.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenCredit_Customer_so_dont_need_Deposit_Cust_Inv_Not_Found</name>
        <label>Credit Customer so dont need Deposit (Cust Inv Not Found)</label>
        <locationX>1066</locationX>
        <locationY>2245</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtCreditCustomerDontNeedDeposit_0</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;This account type is {!var_AccountData.Account_Type__c}.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Payment is not required.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Deposit Invoice for On Site Agreement has not been found after several attempts.&lt;/p&gt;&lt;p&gt;Please contact the office and give them this screenshot.&lt;/p&gt;&lt;p&gt;Once screenshot taken please press Next to finish.&lt;/p&gt;&lt;p&gt;Notes: &#39;FL - FSL (mobile) Take Payment for Deposit On Site Agreement&#39;, Credit Customer branch - Deposit Customer Invoice was not found for&amp;nbsp;On Site Agreement Work Order created from original Work Order: {!var_OriginalWorkOrderData.WorkOrderNumber}.&lt;/p&gt;&lt;p&gt;ONSA Work Order Work Type: {!var_WorkTypeData.Name}&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;, after {!var_CounterPendRejectSearch_CI} attempts.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenCurrent_Payment_Stage</name>
        <label>Current Payment Stage</label>
        <locationX>4772</locationX>
        <locationY>1811</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_Payment_Status_0</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtPaymentStage</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;The current payment stage is: {!var_PaymentData.asp04__Payment_Stage__c}&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Payment number created is: {!var_PaymentData.Name}&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Please press Next to see if payment stage changes to: &lt;/b&gt;&lt;b&gt;Collected from customer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;*If this doesnt happen after a few attempts please use the exit payment option below to exit the payment process.&lt;/b&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt; You must contact the office to confirm payment was successful.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Exit_Payment_please_check_with_Office_payment_was_received</name>
            <dataType>Boolean</dataType>
            <fieldText>Exit Payment</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenCustomer_Invoice_not_found</name>
        <label>Customer Invoice not found</label>
        <locationX>2492</locationX>
        <locationY>1417</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>CINOtfound</targetReference>
        </connector>
        <fields>
            <name>dispalytxtCINotFound</name>
            <fieldText>&lt;p&gt;Deposit Invoice for On Site Agreement has not been found after &lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;{!var_CounterPendRejectSearch_CI} &lt;/span&gt;attempts.&lt;/p&gt;&lt;p&gt;Office team has been notified.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenCustWontPayOnDevice</name>
        <label>CustWontPayOnDevice</label>
        <locationX>3270</locationX>
        <locationY>1231</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtFinish_CustWontPayOnDevice</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;background-color: var(--lwc-colorBackgroundInput,rgb(255, 255, 255)); color: var(--lwc-colorTextWeak,rgb(62, 62, 60)); font-size: var(--lwc-fontSize3,0.8125rem); font-family: var(--lwc-fontFamily,&amp;quot;Salesforce Sans&amp;quot;, Arial, sans-serif);&quot;&gt;An email requesting payment has been sent to the customer.&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please press Next to end the payment process and check with the office that payment has been received once the customer has confirmed payment has been made.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenDeposit_Invoice_Still_Not_Found_after_Several_Attempts</name>
        <label>Deposit Invoice Still Not Found after Several Attempts</label>
        <locationX>117</locationX>
        <locationY>1533</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtDeposit_Invoice_Still_Not_Found_after_Several_Attempts</name>
            <fieldText>&lt;p&gt;Deposit Invoice for On Site Agreement has not been found after &lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;{!var_CounterPendRejectSearch_CI}&lt;/span&gt; attempts.&lt;/p&gt;&lt;p&gt;Please contact the office and give them this screenshot.&lt;/p&gt;&lt;p&gt;Notes: &#39;FL - FSL (mobile) Take Payment for Deposit On Site Agreement&#39;, Pending or Rejected branch - Deposit Customer Invoice was not found for On Site Agreement Work Order created from original Work Order: &lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;{!var_OriginalWorkOrderData.WorkOrderNumber}.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ONSA Work Order Work Type: {!var_WorkTypeData.Name}.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenDigits_DONT_match</name>
        <label>Digits DONT match</label>
        <locationX>3951</locationX>
        <locationY>914</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>ScreenValid_Auth_record_found</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtFirst4DigitsVerification_FAILED</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Oops! The first 4 digits entered do not match the &lt;/b&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;{!var_AuthorisationData.asp04__Card_Type__c} card ending XXXX-{!Formula_Auth_AccountRef_Last4Digits}. &lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b&gt;Please press Next to either enter the first 4 digits again or choose another payment method.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenDisplay_eCommerce_URL_to_User</name>
        <label>Display eCommerce URL to User</label>
        <locationX>6336</locationX>
        <locationY>1147</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_Payment_Stage</targetReference>
        </connector>
        <fields>
            <name>DisplayTxt_eCommerceURL</name>
            <fieldText>&lt;p&gt;Please click on the link below to add alternative credit card details:&lt;/p&gt;&lt;p&gt;{!var_PaymentData.asp04__eCommerce_URL__c}&lt;/p&gt;&lt;p&gt;And then return to the mobile app and click Next to confirm if payment was taken successfully or not.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenFirst_4_digits_Security_Verification</name>
        <label>First 4 digits Security Verification</label>
        <locationX>4069</locationX>
        <locationY>1098</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Do_the_first_4_digits_match</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtFirst4DigitsVerification</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;For security please pass the phone to the customer to enter the first 4 digits of the {!var_AuthorisationData.asp04__Card_Type__c} card ending XXXX-{!Formula_Auth_AccountRef_Last4Digits}. Payment amount: {!var_Deposit_Customer_Inv_Data.Charge_Gross__c}.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Please_enter_the_first_4_digits_of_your_card_number</name>
            <dataType>String</dataType>
            <fieldText>Please enter the first 4 digits of your card number:</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenNew_FP_Work_Order_Created_Pend_or_Reject</name>
        <label>New FP Work Order Created (Pend or Reject)</label>
        <locationX>781</locationX>
        <locationY>2078</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtNewWOCreated_Pend_Reject</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;A new fixed price work order has been created.  We&#39;ve sent an email to the customer with the estimate and the option to accept at a later stage.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenNo_Auth_Found</name>
        <label>No Auth Found</label>
        <locationX>4666</locationX>
        <locationY>729</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>ScreenPlease_select_alternative_method_of_payment</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtNoAuthFound</name>
            <fieldText>&lt;p&gt;A valid Authorisation record (credit card) was not found.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Please press Next to choose an alternative payment method.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenNot_Failed_and_Not_Collected_from_Cust</name>
        <label>Not Failed and Not Collected from Cust</label>
        <locationX>6322</locationX>
        <locationY>1376</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_Payment_Stage</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtNot_Failed_and_Not_Collected_from_Cust</name>
            <fieldText>&lt;p&gt;The payment stage is currently {!var_PaymentData.asp04__Payment_Stage__c}.&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;Please press Next to search again.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPayment_Option_Not_Made</name>
        <label>Payment Option Not Made</label>
        <locationX>4522</locationX>
        <locationY>934</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>ScreenValid_Auth_record_found</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtPaymentOptionNotMade</name>
            <fieldText>&lt;p&gt;A payment option was not made - please press next to return to the previous screen.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPayment_Process_Exited</name>
        <label>Payment Process Exited</label>
        <locationX>5727</locationX>
        <locationY>1956</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtPaymentProcessExited</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;The payment process was exited. Please check with the office that the payment went through successfully after checking {!var_CheckPaymentStatusNumber} times.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPayment_Record_Created</name>
        <label>Payment Record Created</label>
        <locationX>4151</locationX>
        <locationY>1588</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Has_15_Seconds_passed</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtPaymentRecordCreated</name>
            <fieldText>&lt;p&gt;A Payment record is created for {!var_Deposit_Customer_Inv_Data.Charge_Gross__c}. To complete the payment please press &lt;b&gt;Next&lt;/b&gt;.&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(247, 5, 5);&quot;&gt;****Please now wait 15 seconds for the payment to be processed before clicking Next****&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPayment_Stage_is_Failed</name>
        <label>Payment Stage is Failed</label>
        <locationX>5018</locationX>
        <locationY>1393</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>ScreenPlease_select_alternative_method_of_payment</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtPaymentStage_Failed</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;The payment process stage is {!var_PaymentData.asp04__Payment_Stage__c}.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Please press Next to select alternative payment method.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPaymentMethodSelectedBACs</name>
        <label>PaymentMethodSelectedBACs</label>
        <locationX>5208</locationX>
        <locationY>188</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtBACs_Selected</name>
            <fieldText>&lt;p&gt;As a BACs payment was selected please check with the office that payment was received.&lt;/p&gt;&lt;p&gt;Please press next to end the payment process.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPaymentMethodSelectedCashOrCheque</name>
        <label>PaymentMethodSelectedCashOrCheque</label>
        <locationX>5553</locationX>
        <locationY>230</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Did_Operative_confirm_theyd_recd_Chq_or_Cash</targetReference>
        </connector>
        <fields>
            <name>RadbtnsHave_you_received_the_cheque</name>
            <choiceReferences>ChoiceYesRecdCashorChq</choiceReferences>
            <choiceReferences>ChoiceNOTRecdCashorChq</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Have you received the cheque?</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPaymentMethodSelectedCashOrCheque_0</name>
        <label>PaymentMethodSelectedCashOrCheque</label>
        <locationX>5659</locationX>
        <locationY>615</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Did_Operative_confirm_theyd_recd_Chq_or_Cash_0</targetReference>
        </connector>
        <fields>
            <name>RadbtnsHave_you_received_the_cash</name>
            <choiceReferences>ChoiceYesRecdCashorChq</choiceReferences>
            <choiceReferences>ChoiceNOTRecdCashorChq</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Have you received the cash?</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPaymentMethodSelectedCashOrChequeFinish</name>
        <label>PaymentMethodSelectedCashOrChequeFinish</label>
        <locationX>6541</locationX>
        <locationY>345</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtFinish</name>
            <fieldText>&lt;p&gt;As a cheque payment was selected please ensure this is passed onto the office.&lt;/p&gt;&lt;p&gt;Please press next to end the payment process.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPaymentMethodSelectedCashOrChequeFinish_0</name>
        <label>PaymentMethodSelectedCashOrChequeFinish</label>
        <locationX>6720</locationX>
        <locationY>874</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtFinish_0</name>
            <fieldText>&lt;p&gt;As a cash payment was selected please ensure this is passed onto the office.&lt;/p&gt;&lt;p&gt;Please press next to end the payment process.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPaymentSuccessfullyTaken</name>
        <label>PaymentSuccessfullyTaken</label>
        <locationX>5030</locationX>
        <locationY>2283</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DisplayTxtPaymentSuccessfullyTaken</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;Payment has been successfully collected from the customer. &lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenPlease_select_alternative_method_of_payment</name>
        <label>Please select alternative method of payment</label>
        <locationX>5041</locationX>
        <locationY>899</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Check_Payment_Method_Selected</targetReference>
        </connector>
        <fields>
            <name>PicklsitPlease_select_alternative_payment_method</name>
            <choiceReferences>ChoiceAlternativeCreditCard</choiceReferences>
            <choiceReferences>ChoiceCash</choiceReferences>
            <choiceReferences>ChoiceCheque</choiceReferences>
            <choiceReferences>ChoiceBACs</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Please select alternative payment method</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenValid_Auth_record_found</name>
        <label>Valid Auth record found</label>
        <locationX>4288</locationX>
        <locationY>858</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Check_payment_method_chosen</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtValidAuthFound</name>
            <fieldText>&lt;p&gt;We have a &lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;{!var_AuthorisationData.asp04__Card_Type__c} &lt;/span&gt;card on file ending XXXX-&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;{!Formula_Auth_AccountRef_Last4Digits}.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Does the customer wish to process &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;{!var_Deposit_Customer_Inv_Data.Charge_Gross__c}&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt; on this card?&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>PicklistPlease_choose_PayUsingAuthOrNot</name>
            <choiceReferences>ChoiceYesPayWithThisCard</choiceReferences>
            <choiceReferences>ChoiceNoUseOTHER_Method_Of_Payment</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Please choose</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenWait_for_Customer_Invoice_creation</name>
        <label>Wait for Customer Invoice creation</label>
        <locationX>1808</locationX>
        <locationY>619</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Has_20_Seconds_passed_Cust_Invoice</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtWait_for_Customer_Invoice_creation</name>
            <fieldText>&lt;p&gt;Please wait 20 seconds&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenWait_for_Customer_Invoice_creation_Credit_Cust</name>
        <label>Wait for Customer Invoice creation (Credit Cust)</label>
        <locationX>1285</locationX>
        <locationY>1260</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Has_20_Seconds_passed_Cust_Invoice_Credit_Cust</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtWait_for_Customer_Invoice_creationCreditCust</name>
            <fieldText>&lt;p&gt;Please wait 20 seconds&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenWait_for_Customer_Invoice_creation_Pending_or_Rejected</name>
        <label>Wait for Customer Invoice creation (Pending or Rejected)</label>
        <locationX>166</locationX>
        <locationY>1353</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Has_20_Seconds_passed_Cust_Invoice_Pend_or_Reject</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtWait_for_Customer_Invoice_creationPendReject</name>
            <fieldText>&lt;p&gt;Please wait 20 seconds&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ScreenWill_Customer_pay_via_device</name>
        <label>Will Customer pay via device?</label>
        <locationX>3088</locationX>
        <locationY>699</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Check_Pay_via_Device_or_not</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtWill_Customer_pay_via_device</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;If the customer does not want to pay via your device please select this below and an email will be sent to them with a payment link.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>RadbtnPlease_confirmPayViaDevice</name>
            <choiceReferences>ChoicePayViaDevice</choiceReferences>
            <choiceReferences>ChoiceNotPayViaDeviceSendEmail</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Please confirm:</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Show CI,Job, Account ID&#39;s</description>
        <name>Show_data</name>
        <label>Show data</label>
        <locationX>2339</locationX>
        <locationY>540</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Add_1_to_Pend_or_Reject_Search_for_CI_var_Cash_Cust</targetReference>
        </connector>
        <fields>
            <name>test2</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;Please ignore the text below. Click Next to continue.&amp;nbsp;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(0, 0, 0);&quot;&gt;Account&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;{!var_Deposit_Customer_Inv_Data.Account__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(0, 0, 0);&quot;&gt;CI - ID&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;{!var_Deposit_Customer_Inv_Data.Id}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(0, 0, 0);&quot;&gt;JOB ID&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;{!var_CreatedWorkOrderData.Job__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(0, 0, 0);&quot;&gt;Retrieved JOB ID&lt;/b&gt;&lt;/p&gt;&lt;p&gt;{!var_retrievedworkOrdercreated.Job__c}&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(0, 0, 0);&quot;&gt;Time&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;{!$Flow.CurrentDateTime}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>TestScreen_for_Job_Id</name>
        <label>TestScreen for Job Id</label>
        <locationX>2084</locationX>
        <locationY>475</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Get_Invoice_Data</targetReference>
        </connector>
        <fields>
            <name>Show_Id</name>
            <fieldText>&lt;p&gt;Object : {!var_CreatedWorkOrderData}&lt;/p&gt;&lt;p&gt;WO ID :{!var_CreatedWorkOrderData.Id}&lt;/p&gt;&lt;p&gt;Job ID :{!var_CreatedWorkOrderData.Job__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>var_AltCC_Counter_is_4</name>
        <label>var_AltCC_Counter is 4</label>
        <locationX>6465</locationX>
        <locationY>1823</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Alt_CC_counter_is_4_and_Alt_payment_method_selected</targetReference>
        </connector>
        <fields>
            <name>DisplayTxtvar_AltCC_Counter_is_4</name>
            <fieldText>&lt;p&gt;As after 4 attempts the payment stage is still not Collected from customer and has not failed there may be a problem with our payment provider.&lt;/p&gt;&lt;p&gt;Please contact the office and give them a copy of this screenshot.&lt;/p&gt;&lt;p&gt;Notes for Office:&lt;/p&gt;&lt;p&gt;If the On Site Agreement payment has gone through successfully then the new Work Order will need to be updated:&#39; Payment Status&#39; to Paid&lt;/p&gt;&lt;p&gt;Customer Invoice: &#39;Status&#39; to Paid&lt;/p&gt;&lt;p&gt;*If you dont think payment was successfully entered please amend the toggle below to select an alternative payment method, else this process will end when you click Next.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ChkbxAlternative_payment_method</name>
            <dataType>Boolean</dataType>
            <defaultValue>
                <booleanValue>false</booleanValue>
            </defaultValue>
            <fieldText>Alternative payment method</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>139</locationX>
        <locationY>565</locationY>
        <connector>
            <targetReference>Check_if_Immediate_Future_Date_Pending_Rejected</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Create_SA_and_SR_BACs</name>
        <label>Create SA and SR (BACs)</label>
        <locationX>5069</locationX>
        <locationY>513</locationY>
        <connector>
            <targetReference>Update_Cust_Inv_to_Outstanding_BACs</targetReference>
        </connector>
        <flowName>PHASE_2_FL_FSL_mobile_Take_Payment_for_Deposit_On_Site_Agreement_Create_SA_AR</flowName>
        <inputAssignments>
            <name>var_Arriv_Wind_END_EndDate</name>
            <value>
                <elementReference>var_Arriv_Wind_END_EndDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Arriv_Wind_Start_StartDate</name>
            <value>
                <elementReference>var_Arriv_Wind_Start_StartDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Is_Work_Commencing_Now</name>
            <value>
                <elementReference>var_Bool_Is_Work_Commencing_Now</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Work_Commencing_Future_Date</name>
            <value>
                <elementReference>var_Bool_Work_Commencing_Future_Date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Work_Is_Pending</name>
            <value>
                <elementReference>var_Bool_Work_Is_Pending</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Work_Is_Rejected</name>
            <value>
                <elementReference>var_Bool_Work_Is_Rejected</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_CreatedWorkOrderID</name>
            <value>
                <elementReference>var_CreatedWorkOrderID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_NumberPossEstimatedDuration</name>
            <value>
                <elementReference>var_NumberPossEstimatedDuration</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_OriginalWorkOrderData</name>
            <value>
                <elementReference>var_OriginalWorkOrderData</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_ServiceResourceData</name>
            <value>
                <elementReference>var_ServiceResourceData</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_SiteData</name>
            <value>
                <elementReference>var_SiteData</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Create_SA_and_SR_Cash_or_Chq</name>
        <label>Create SA and SR (Cash or Chq)</label>
        <locationX>6124</locationX>
        <locationY>265</locationY>
        <connector>
            <targetReference>Update_Cust_Inv_to_Outstanding_Cash_or_Chq</targetReference>
        </connector>
        <flowName>PHASE_2_FL_FSL_mobile_Take_Payment_for_Deposit_On_Site_Agreement_Create_SA_AR</flowName>
        <inputAssignments>
            <name>var_Arriv_Wind_END_EndDate</name>
            <value>
                <elementReference>var_Arriv_Wind_END_EndDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Arriv_Wind_Start_StartDate</name>
            <value>
                <elementReference>var_Arriv_Wind_Start_StartDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Is_Work_Commencing_Now</name>
            <value>
                <elementReference>var_Bool_Is_Work_Commencing_Now</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Work_Commencing_Future_Date</name>
            <value>
                <elementReference>var_Bool_Work_Commencing_Future_Date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Work_Is_Pending</name>
            <value>
                <elementReference>var_Bool_Work_Is_Pending</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Work_Is_Rejected</name>
            <value>
                <elementReference>var_Bool_Work_Is_Rejected</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_CreatedWorkOrderID</name>
            <value>
                <elementReference>var_CreatedWorkOrderID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_NumberPossEstimatedDuration</name>
            <value>
                <elementReference>var_NumberPossEstimatedDuration</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_OriginalWorkOrderData</name>
            <value>
                <elementReference>var_OriginalWorkOrderData</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_ServiceResourceData</name>
            <value>
                <elementReference>var_ServiceResourceData</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_SiteData</name>
            <value>
                <elementReference>var_SiteData</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Create_SA_and_SR_Cash_or_Chq_0</name>
        <label>Create SA and SR (Cash or Chq)</label>
        <locationX>6303</locationX>
        <locationY>794</locationY>
        <connector>
            <targetReference>Update_Cust_Inv_to_Outstanding_Cash_or_Chq_0</targetReference>
        </connector>
        <flowName>PHASE_2_FL_FSL_mobile_Take_Payment_for_Deposit_On_Site_Agreement_Create_SA_AR</flowName>
        <inputAssignments>
            <name>var_Arriv_Wind_END_EndDate</name>
            <value>
                <elementReference>var_Arriv_Wind_END_EndDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Arriv_Wind_Start_StartDate</name>
            <value>
                <elementReference>var_Arriv_Wind_Start_StartDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Is_Work_Commencing_Now</name>
            <value>
                <elementReference>var_Bool_Is_Work_Commencing_Now</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Work_Commencing_Future_Date</name>
            <value>
                <elementReference>var_Bool_Work_Commencing_Future_Date</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Work_Is_Pending</name>
            <value>
                <elementReference>var_Bool_Work_Is_Pending</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_Bool_Work_Is_Rejected</name>
            <value>
                <elementReference>var_Bool_Work_Is_Rejected</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_CreatedWorkOrderID</name>
            <value>
                <elementReference>var_CreatedWorkOrderID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_NumberPossEstimatedDuration</name>
            <value>
                <elementReference>var_NumberPossEstimatedDuration</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_OriginalWorkOrderData</name>
            <value>
                <elementReference>var_OriginalWorkOrderData</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_ServiceResourceData</name>
            <value>
                <elementReference>var_ServiceResourceData</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>var_SiteData</name>
            <value>
                <elementReference>var_SiteData</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <textTemplates>
        <name>CInotfoundmailtext</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Hi Team,

Deposit Customer Invoice was not found for On Site Agreement Work Order created from original Work Order: {!var_OriginalWorkOrderData.WorkOrderNumber}.
ONSA Work Order Work Type: {!var_WorkTypeData.Name}.

Thanks,
Aspect.</text>
    </textTemplates>
    <variables>
        <name>emailid</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <stringValue>upparapalli.saikrishna@gmail.com</stringValue>
        </value>
    </variables>
    <variables>
        <name>var_AccountData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>var_AltCC_Counter</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>var_Arriv_Wind_END_EndDate</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <elementReference>$Flow.CurrentDateTime</elementReference>
        </value>
    </variables>
    <variables>
        <name>var_Arriv_Wind_Start_StartDate</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <elementReference>$Flow.CurrentDateTime</elementReference>
        </value>
    </variables>
    <variables>
        <name>var_AuthorisationData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>asp04__Authorisation__c</objectType>
    </variables>
    <variables>
        <name>var_Bool_Is_Work_Commencing_Now</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_Bool_Work_Commencing_Future_Date</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_Bool_Work_Is_Pending</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_Bool_Work_Is_Rejected</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_CheckPaymentStatusNumber</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>var_Counter</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>var_CounterPendRejectSearch_CI</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>var_CreatedJobID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_CreatedWorkOrderData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <name>var_CreatedWorkOrderID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>var_Deposit_Customer_Inv_Data</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Customer_Invoice__c</objectType>
    </variables>
    <variables>
        <name>var_EmailID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <stringValue>var_EmailID</stringValue>
        </value>
    </variables>
    <variables>
        <name>var_NON_PrimaryAccountContact</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <name>var_NOW_Add_15_Seconds_Payment</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_NOW_Add_20_Seconds_CustInvoice</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>var_NumberPossEstimatedDuration</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>var_OriginalWorkOrderData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <name>var_PaymentData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>asp04__Payment__c</objectType>
    </variables>
    <variables>
        <name>var_PaymentID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_PrimaryAccountContact</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <description>this variable is introduced to over CI not found error. To fetch the job if by anychance there is a sync timing issue</description>
        <name>var_retrievedworkOrdercreated</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <name>var_ServiceResourceData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>ServiceResource</objectType>
    </variables>
    <variables>
        <name>var_SiteData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Site__c</objectType>
    </variables>
    <variables>
        <name>var_WorkTypeData</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkType</objectType>
    </variables>
</Flow>
